<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8">
    <meta content="telephone=no" name="format-detection">
    <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
    <meta content=
    "user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi"
    name="viewport">
	
	<!-- ================== BEGIN BASE CSS STYLE ================== -->
	<link href="assets/plugins/jquery-ui/themes/base/minified/jquery-ui.min.css" rel="stylesheet" />
	<link href="assets/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
	<link href="assets/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet" />
	<link href="assets/css/animate.min.css" rel="stylesheet" />
	<link href="assets/css/style.min.css" rel="stylesheet" />
	<link href="assets/css/style-responsive.min.css" rel="stylesheet" />
	<link href="assets/css/theme/default.css" rel="stylesheet" id="theme" />
        <link href="assets/plugins/bootstrap-validation/css/bootstrapValidator.css" rel="stylesheet" />
	<!--<link href="assets/css/awesomplete.css" rel="stylesheet" />-->
	<!-- ================== END BASE CSS STYLE ================== -->
	
	<!-- ================== BEGIN PAGE LEVEL STYLE  wizard================== -->
	<link href="assets/plugins/bootstrap-wizard/css/bwizard.min.css" rel="stylesheet" />
	<!-- ================== END PAGE LEVEL STYLE ================== -->
 
	
	<!-- ================== START SELECT PICKER GO================== -->
	
	 <link rel="stylesheet" href="assets/selectpicker/css/bootstrap-select_table.css">
	 <script src="assets/selectpicker/js/bootstrap-select_table.js"></script>
	 
	<script src="assets/plugins/bootstrap-select/bootstrap-select1.min.js"></script>
	<!-- ================== END SELECT PICKER GO================== -->
	
	
	
	<!-- ================== BEGIN PAGE LEVEL STYLE Data tables================== -->
	<link href="assets/plugins/DataTables/css/data-table.css" rel="stylesheet" />
	<!-- ================== END PAGE LEVEL STYLE ================== -->
	
	<!-- ================== BEGIN PAGE LEVEL STYLE Form plugin================== -->
	<link href="assets/plugins/bootstrap-datetimepicker2/css/bootstrap-datetimepicker.css" rel="stylesheet" />
	<link href="assets/plugins/bootstrap-datepicker/css/datepicker.css" rel="stylesheet" />
	<link href="assets/plugins/bootstrap-datepicker/css/datepicker3.css" rel="stylesheet" />
	<link href="assets/plugins/ionRangeSlider/css/ion.rangeSlider.css" rel="stylesheet" />
	<link href="assets/plugins/ionRangeSlider/css/ion.rangeSlider.skinNice.css" rel="stylesheet" />
	<link href="assets/plugins/bootstrap-colorpicker/css/bootstrap-colorpicker.min.css" rel="stylesheet" />
	<link href="assets/plugins/bootstrap-timepicker/css/bootstrap-timepicker.min.css" rel="stylesheet" />
	<link href="assets/plugins/password-indicator/css/password-indicator.css" rel="stylesheet" />
	<link href="assets/plugins/bootstrap-combobox/css/bootstrap-combobox.css" rel="stylesheet" />
	<link href="assets/plugins/bootstrap-select/bootstrap-select.min.css" rel="stylesheet" />
	<link href="assets/plugins/bootstrap-tagsinput/bootstrap-tagsinput.css" rel="stylesheet" />
	<link href="assets/plugins/jquery-tag-it/css/jquery.tagit.css" rel="stylesheet" />
	<!-- ================== END PAGE LEVEL STYLE ================== -->

	<!-- ================== BEGIN PAGE LEVEL STYLE show or hide column================== -->
	<link href="assets/plugins/DataTables/css/data-table.css" rel="stylesheet" />
    <link href="assets/plugins/gritter/css/jquery.gritter.css" rel="stylesheet" />
	<!-- ================== END PAGE LEVEL STYLE ================== -->
	
	<!-- ================== Browse button custom================== -->
	<link href="assets/plugins/browse-button/filecss.css" rel="stylesheet" />
	<script src="assets/plugins/browse-button/filejs.js"></script>
	<!-- ================== START PAGE LEVEL STYLE ================== -->
	

	
	
		<!-- ================== END WEBQR JS ================== -->
	<style>
	    .table_input{
		width: auto;
	    }
	    

	.btn-new {
	-moz-user-select: none;
	background-image: none;
	border: 1px solid transparent;
	border-radius: 4px;
	cursor: pointer;
	display: block;
	font-size: 14px;
	font-weight: 400;
	line-height: 1.42857;
	margin-bottom: 0;
	padding: 6px 12px;
	text-align:center;
	vertical-align: middle;
	white-space: nowrap;
	width: 85%;
	}
	
	.btn-new.btn-new-inverse {
	background: #2d353c none repeat scroll 0 0;
	border-color: #2d353c;
	color: #fff;
	}
	a:focus, a:hover {
        text-decoration: none;
	}
	</style>
	    
	
</head>
<body onload="CheckNetwork();">
<script>
/* onload="ajaxvalues();" */
var user_name = localStorage.getItem("user_id");
if(user_name==null){
window.open('index.html', '_blank','location=no');
}
function logout(){
	localStorage.clear();
	window.open('index.html', '_blank','location=no');
	
}

</script>

 <link href="assets/plugins/formValidation/css/formValidation.css" rel="stylesheet"/>
	    <script src="assets/plugins/formValidation/js/formValidation.js"></script>
	    <script src="assets/plugins/formValidation/js/framework/bootstrap.min.js"></script>
	    <style>
		
		.table_input2
		{
		    width:270px;
		}
		
		.table-responsive
		{
		}
		
	    </style>
	    <style>
		
		#wallDesign
		{
		    background-image: url("./img/bg.png");
		    float: left;
		    max-height: 50%;
		    width: 50%;
		}
		
		#productDesign
		{
		   float: left;
		}
		
		#productDesign img
		{
		    width: 50%;
		    max-height: 50%;
		}
		
		#previewBox
		{
		    float: left;
		    height: 50%;
		    width: 50%;
		}
		
	    </style>
	    <script type="text/javascript">
		
		function previewChanges(paramType)
		{
		    var width = $('#form_validation').find('[name="ML_WIDTH"]').val();
		    var height = $('#form_validation').find('[name="ML_HEIGHT"]').val();
		    if (paramType=='height'||paramType=='width')
		    {
			$('#form_validation').find('[name="ML_FULL_HEIGHT"]').val(height);
			$('#form_validation').find('[name="ML_FULL_WIDTH"]').val(width);
		    }
		    var heightOfWall= $('#form_validation').find('[name="ML_FULL_HEIGHT"]').val();
		    var widthOfWall = $('#form_validation').find('[name="ML_FULL_WIDTH"]').val();
		    var depth = $('#form_validation').find('[name="ML_WINDOW_DEPTH"]').val();
		    var fromtop = $('#form_validation').find('[name="ML_CEILING_UP"]').val();
		    
		    $('#form_validation').find('[name="ML_FLOOR_DOWN"]').val(heightOfWall-height-fromtop);
		    var fromleft = $('#form_validation').find('[name="ML_LEFT_WALL"]').val();
		    $('#form_validation').find('[name="ML_RIGHT_WALL"]').val(widthOfWall-width-fromleft);
		    $('#productDesign').css('width',width).css('height', height).css('margin-top',fromtop+'px')
		    .css('margin-left',fromleft+'px').css('box-shadow', depth+'px '+depth+'px gray');
		    $('#wallDesign').css('width',widthOfWall).css('height', heightOfWall);
		    $('#productDesign img').css('height', height);
		}
		
	    </script> 

<!-- Html code start -->

  <!-- begin #page-container -->
    <div id="page-container" class="fade in page-sidebar-fixed page-header-fixed">
        <!-- begin #header -->
        <div id="header" class="header navbar navbar-default navbar-fixed-top">
            <!-- begin container-fluid -->
            <div class="container-fluid">
                <!-- begin mobile sidebar expand / collapse button -->
                <div class="navbar-header">
                    <a href="" class="navbar-brand"><span class=""><img src="assets/img/mantis_logo.jpg" data-id="login-cover-image" alt="" /></span> </a>
                    <button type="button" class="navbar-toggle" data-click="sidebar-toggled">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
                <!-- end mobile sidebar expand / collapse button -->
            </div>
            <!-- end container-fluid -->
        </div>
        <!-- end #header -->
        
        <!-- begin #sidebar -->
        <div id="sidebar" class="sidebar">
            <!-- begin sidebar scrollbar -->
            <div data-scrollbar="true" data-height="100%">
                <!-- begin sidebar user -->
                <ul class="nav">
                    <li class="nav-profile">
                        <div class="image">
                            <a href="javascript:;"><img src="" alt="" /></a>
                        </div>
                        <div class="info">
                            <!--<small>Front end developer</small>-->
                        </div>
                    </li>
                </ul>
                <!-- end sidebar user -->
                <!-- begin sidebar nav -->
                <ul class="nav">
		    		<li class="has-sub active">
                        <a href="javascript:;">
                            <b class="caret pull-right"></b>
                            <i class="fa fa-truck text-warning"></i> 
                            <span>Logistics</span>
                        </a>
                        <ul class="sub-menu">
							<li><a href="ScheduleTrackingDashboard_View.html">Schedule Tracking Dashboard</a></li>
							<li class="active"><a>Measurement Transaction </a></li>  
                        </ul>
            		</li>
                	<li class="has-sub"><a onclick="logout()"> <i class="fa fa-sign-out"></i><span>Log Out</span></a></li>
                    <!-- begin sidebar minify button -->
                    <li><a href="javascript:;" class="sidebar-minify-btn" data-click="sidebar-minify"><i class="fa fa-angle-double-left"></i></a></li>
                    <!-- end sidebar minify button -->
                </ul>
                <!-- end sidebar nav -->
            </div>
            <!-- end sidebar scrollbar -->
        </div>
       
        
        <div class="sidebar-bg"></div>
	<!-- end #sidebar -->
	    
	    <div class="content" id="content">
		
	
		<!-- begin row -->
		<div class="row">
		    <!-- begin col-12 -->
		    <div class="col-md-12">
			<!-- begin panel -->
			<div class="panel panel-inverse" data-sortable-id="form-stuff-1">
			    <div class="panel-heading">
				<div class="panel-heading-btn">
				    <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-default" data-click="panel-expand"><i class="fa fa-expand"></i></a>
				    <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-success" data-click="panel-reload"><i class="fa fa-repeat"></i></a>
				    <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-warning" data-click="panel-collapse"><i class="fa fa-minus"></i></a>
				</div>
				<h4 class="panel-title">Add Measurement Transaction</h4>
			    </div>
			    <div class="panel-body">
				<div class="form-horizontal" id="form_validation" >
				  <div id="viewHeadSystemId">
				  	<input type="hidden" name="head_sys_id" id="head_sys_id" value="MH_SYS_ID">
					<input type="hidden" name="mainId" id="mainId" value="MH_REF_SYS_ID">
				  </div>
				    <div id="wizard">
						<ol>
						    <li>Reference</li>
						    <li>Details</li>
						    <li>Product</li>
						    <li>Window</li>
						    <li>Capture</li>
						    <li>Confirm</li>
						</ol>
					<!-- begin wizard step-1 -->
					<div>
					    <fieldset>
							<legend class="pull-left width-full">Reference
							<button class="pull-right btn btn-primary " id="existEdit"><i class="fa fa-edit"></i>Edit Existings</button>
							 <!-- <a onclick="Test();" class="pull-right btn btn-primary" type="button"><i class="fa fa-edit"></i>Test</a> -->
							
							</legend>
							<div class="row form-horizontal tab-pane">
							    <div class="col-md-12">
									<div class="form-group">
									    <label class="col-md-4 control-label">Customer Name</label>
									    <div class="col-md-4">
											<input type="text" class="form-control" name="MH_CUST_AC_DESC" id="LSL_CUST_AC_DESC"  >
											<input type="hidden" name="lsl_sys_id" id="lsl_sys_id" /><input type="hidden" name="head_sys_id" id="head_sys_id" />
									    </div>
									</div>
									<div class="form-group">
									    <label class="col-md-4 control-label">Contact Person</label>
									    <div class="col-md-4">
											<input type="text" class="form-control" name="MH_CONTACT_PERSON" id="LSL_CONTACT_PERSON" >
									    </div>
									</div>
									<div class="form-group">
									    <label class="col-md-4 control-label">Address</label>
									    <div class="col-md-4">
											<input type="text" class="form-control" name="MH_ADD1" id="LSL_ADDRESS" >
									    </div>
									</div>
									<div class="form-group">
									    <label class="col-md-4 control-label">City</label>
									    <div class="col-md-4">
											<input type="text" class="form-control" name="MH_CT_CODE" id="LSL_CITY" >
									    </div>
									</div>
									<div class="form-group">
									    <label class="col-md-4 control-label">Ref Transaction</label>
									    <div class="col-md-4">
											<input type="text" class="form-control" name="MH_SALE_REF_TXN_CODE" id="LSL_REF_TXN_CODE"  >
									    </div>
									</div>
									<div class="form-group">
									    <label class="col-md-4 control-label">Ref No</label>
									    <div class="col-md-4">
											<input type="text" class="form-control" name="MH_SALE_REF_TXN_NO" id="LSL_REF_TXN_NO" >
											<input type="hidden" class="form-control" name="MH_SALE_REF_SYS_ID" id="MH_SALE_REF_SYS_ID" >
									    </div>
									</div>
									<div class="form-group" id="Test"></div>
									<div class="form-group">
									    <div class="col-md-2">
											<input type="hidden" class="form-group" name="LSH_TXN_CODE" id="LSH_TXN_CODE" />
									    </div>
									    <div class="col-md-2">
											<input type="hidden" class="form-group" name="LSH_TXN_DT" id="LSH_TXN_DT" />
									    </div>
									    <div class="col-md-2">
											<input type="hidden" class="form-group" name="LSH_DOC_REF" id="LSH_DOC_REF" >
									    </div>
									    <div class="col-md-2">
											<input type="hidden" class="form-group" name="LSL_LOCN_CODE" id="LSL_LOCN_CODE" >
									    </div>
									    <div class="col-md-2">
											<input type="hidden" class="form-group" name="LSL_SR_CODE" id="LSL_SR_CODE" >
									    </div>
									    <div class="col-md-2">
											<input type="hidden" class="form-group" name="LSL_REF_SYS_ID" id="LSL_REF_SYS_ID">
									    </div>
									    <div class="col-md-2">
											<input type="hidden" class="form-group" name="LSL_REF_TXN_CODE" id="LSL_REF_TXN_CODE_Hidevalue">
									    </div>
									    <div class="col-md-2">
											<input type="hidden" class="form-group" name="LSL_REF_TXN_NO" id="LSL_REF_TXN_NO_Hidevalue" >
									    </div>
									    <div class="col-md-2">
											<input type="hidden" class="form-group" name="LSL_REF_TXN_DT" id="LSL_REF_TXN_DT" >
									    </div>
									    <div class="col-md-2">
											<input type="hidden" class="form-group" name="LSL_CONTACT_NO" id="LSL_CONTACT_NO">
									    </div>
									    <div class="col-md-2">
											<input type="hidden" class="form-group" name="LSL_CN_CODE" id="LSL_CN_CODE">
									    </div>
									    <div class="col-md-2">
											<input type="hidden" class="form-group" name="LSL_ST_CODE" id="LSL_ST_CODE">
									    </div>
									    <div class="col-md-2">
											<input type="hidden" class="form-group" name="LSL_POSTAL" id="LSL_POSTAL">
									    </div>
									    <div class="col-md-2">
											<input type="hidden" class="form-group" name="LSL_MOBILE" id="LSL_MOBILE">
									    </div>
									    <div class="col-md-2">
											<input type="hidden" class="form-group" name="LSL_PHONE" id="LSL_PHONE">
									    </div>
									    <div class="col-md-2">
											<input type="hidden" class="form-group" name="LSL_FAX" id="LSL_FAX">
									    </div>
									    <div class="col-md-2">
											<input type="hidden" class="form-group" name="LSL_EMAIL" id="LSL_EMAIL">
									    </div>
									    <div class="col-md-2">
											<input type="hidden" class="form-group" name="LSL_DESC" id="LSL_DESC">
									    </div>
									    <div class="col-md-2">
											<input type="hidden" class="form-group" name="LSL_JOB_STATUS" id="LSL_JOB_STATUS">
									    </div>
									    <div class="col-md-2">
											<input type="hidden" class="form-group" name="LSL_APPOINT_DT" id="LSL_APPOINT_DT">
									    </div>
									    <div class="col-md-2">
											<input type="hidden" class="form-group" name="LSL_CUST_AC_CODE" id="LSL_CUST_AC_CODE">
									    </div>
									    <div class="col-md-2">
											<input type="hidden" class="form-group" name="LSL_CT_AREA_CODE" id="LSL_CT_AREA_CODE">
									    </div>
									    <div class="col-md-2">
											<input type="hidden" class="form-group" name="LSL_ADD2" id="LSL_ADD2">
									    </div>
									    <div class="col-md-2">
											<input type="hidden" class="form-group" name="LSL_ADD3" id="LSL_ADD3">
									    </div>
									    <div class="col-md-2">
											<input type="hidden" class="form-group" name="LSL_ADD4" id="LSL_ADD4">
									    </div>
									</div>
							    </div> 
							</div>
					    </fieldset>
					</div>
					<!-- end wizard step-1 -->
					
					<!-- begin wizard step-2 -->
					<div>
					    <fieldset>
						<legend class="pull-left width-full">Details</legend>
						<div class="row form-horizontal tab-pane">
							<div class="row">
								<div class="form-group">
								    <label class="col-md-4 control-label">Building Type</label>
								    <div class="col-md-4" id="SelectBuildType" >
										<select class="form-control selectpicker" onchange="getBuildType(this);" name="ML_BULD_TYPE" id="ML_BULD_TYPE" data-live-search="true" data-style="btn-white">
										  	<option id="BuildType" value="">Select</option>
											<option value="VSL_CODE" ></option>
										</select>
								    </div>
								</div>
								<div id="buildingDetails" style="display: none;">
								    <div class="col-md-3">
										<div class="col-md-12 form-group">
										    <label class="control-label">Building Name</label>
										    <input type="text" class="form-control input-sm" name="ML_BUILD" id="ML_BUILD" placeholder="BUILDING NAME">
										</div>
								    </div>
								    <div class="col-md-3">
										<div class="col-md-12 form-group">
										    <label class="control-label">Floor Number</label>
										    <input type="text" class="form-control input-sm" name="ML_FLOOR" id="ML_FLOOR" placeholder="FLOOR NUMBER">
										</div>
								    </div>
								    <div class="col-md-3" id="flat">
										<div class="col-md-12 form-group">
										    <label class="control-label">Flat Number</label>
										    <input type="text" class="form-control input-sm" name="ML_FLAT" id="ML_FLAT" placeholder="FLAT NUMBER">
										</div>
								    </div>
								</div>
							</div>
							<div class="row">
						 		<div class="form-group">
								    <label class="col-md-4 control-label">Room Type</label>
								    <div class="col-md-4" id="SelectUnitType" >
										<select class="form-control selectpicker" onchange="getUnitType(this);" name="ML_UNIT" id="ML_UNIT" data-live-search="true" data-style="btn-white">
										  	<option id="UnitType" value="">Select</option>
											<option value="VSL_CODE" ></option>
										</select>
								    </div>
								</div>
								<div class="col-md-3">
									<div class="col-md-12 form-group">
										<label class="control-label">Room Number</label>
										<input type="text" class="form-control input-sm" name="ML_ROOM_NO" id="ML_ROOM_NO" placeholder="Room Number">
									</div>
								</div>
								<div class="col-md-3">
									<div class="col-md-12 form-group">
										<label class="control-label">Window Number</label>
										<input type="text" class="form-control input-sm" name="ML_WINDOW_NO" id="ML_WINDOW_NO" placeholder="Window Number">
									</div>
								</div>
							</div> 
						</div>	
					    </fieldset>
					</div>
					<!-- end wizard step-2 -->
					
					<!-- begin wizard step-3 -->
					<div>
					    <fieldset>
						<legend class="pull-left width-full">Product</legend>
						<div class="row form-horizontal tab-pane">
						    <div class="col-md-11">
							<div class="form-group">
							    <label class="col-md-4 control-label">Product</label>
							   <div class="col-md-4" id="SelectProduct" >
							   		<select class="form-control selectpicker" onchange="getProductCode(this);" data-live-search="true" data-style="btn-white" id="ML_PRODUCT_CODE" name="ML_PRODUCT_CODE">
										<option id="ProductType" value="">Select</option>
										<option value="IF_CODE"></option>
									</select>
								</div>
							</div>
							<div class="form-group">
							    <label class="col-md-4 control-label">Color Code</label>
							    <div class="col-md-4" id="SelectColorCode" >
								<select class="form-control selectpicker" onchange="getColorCode(this);" name="ML_COLOR_CODE" id="ML_COLOR_CODE" data-live-search="true" data-style="btn-white">
								    <option id="ColorCode" value="">Select</option>
								    <option value="IC_CODE" ></option>
								</select>
							    </div>
							</div>
							<div class="form-group">
							    <label class="col-md-4 control-label">Quantity</label>
							    <div class="col-md-4">
								<input type="text" class="form-control" name="ML_QTY" id="ML_QTY" value="1" placeholder="QUANTITY">
							    </div>
							</div>
							<div class="form-group">
							    <label class="col-md-4 control-label">Mount Type</label>
							    <div class="col-md-4" id="SelectMountType" >
								<select class="form-control selectpicker" onchange="getMountType(this);" name="ML_MOUNT_TYPE" id="ML_MOUNT_TYPE" data-live-search="true" data-style="btn-white">
								    <option id="MountType" value="">Select</option>
								    <option value="VSL_CODE"></option>
								</select>
							    </div>
							</div>
							<div class="form-group">
							    <label class="col-md-4 control-label">Mount On</label>
							    <div class="col-md-4" id="SelectMountOn" >
								<select class="form-control selectpicker" onchange="getMountOn(this);" name="ML_MOUNT_ON" id="ML_MOUNT_ON" data-live-search="true" data-style="btn-white">
								    <option id="MountOn" value="">Select</option>
								    <option value="VSL_CODE"></option>
								</select>
							    </div>
							</div>
							<div class="form-group">
							    <label class="col-md-4 control-label">Operation</label>
							    <div class="col-md-4">
								<select class="form-control selectpicker" onchange="getOperation(this);" name="ML_OPERATE" id="ML_OPERATE" data-live-search="true" data-style="btn-white">
								    <option selected="selected" value="">Select</option>
								    <option data-value="Manual">Manual</option>
								    <option data-value="Motorized">Motorized</option>
								</select>
							    </div>
							</div>
							<div class="form-group">
							    <label class="col-md-4 control-label">Control</label>
							    <div class="col-md-4">
								<select class="form-control selectpicker" onchange="getControl(this);" name="ML_CONTROL" id="ML_CONTROL" data-live-search="true" data-style="btn-white">
								    <option selected="selected" value="">Select</option>
								    <option data-value="Left">Left</option>
								    <option data-value="Right">Right</option>
								</select>
							    </div>
							</div>
							<div class="form-group">
							    <label class="col-md-4 control-label">Opening</label>
							    <div class="col-md-4">
								<select class="form-control selectpicker" onchange="getOpening(this);" name="ML_OPENING" id="ML_OPENING" data-live-search="true" data-style="btn-white">
								    <option selected="selected" value="">Select</option>
								    <option data-value="Top">Top</option>
								    <option data-value="Left">Left</option>
								    <option data-value="Right">Right</option>
								    <option data-value="Center">Center</option>
								</select>
							    </div>
							</div>
							<div class="form-group">
							    <label class="col-md-4 control-label">Pelmet</label>
							    <div class="col-md-4">
								<select class="form-control selectpicker" onchange="getPelmet(this);" name="ML_PELMET" id="ML_PELMET" data-live-search="true" data-style="btn-white">
								    <option selected="selected" value="">Select</option>
								    <option data-value="Yes">Yes</option>
								    <option data-value="No">No</option>
								</select>
							    </div>
							</div>
							<div class="form-group" id="hide">
							    <label class="col-md-4 control-label">Projection</label>
							    <div class="col-md-4">
								<input type="text" class="form-control" name="ML_PROJECTION" id="ML_PROJECTION" placeholder="PROJECTION">
							    </div>
							</div>
							<div class="form-group" id="hide"> 
							    <label class="col-md-4 control-label">Fasica</label>
							    <div class="col-md-4">
								<input type="text" class="form-control" name="ML_FASICA" id="ML_FASICA" placeholder="FASICA">
							    </div>
							</div>
							<div class="form-group">
							    <label class="col-md-4 control-label">Remarks</label>
							    <div class="col-md-4">
								<input type="text" class="form-control" name="ML_REMARKS" id="ML_REMARKS" placeholder="REMARKS">
							    </div>
							</div>
							    <input type="hidden" class="form-control" name="MH_TXN_CODE" id="MH_TXN_CODE"  value="MH_TXN_CODE" readonly>
								<input type="hidden" class="form-control" name="MH_TXN_NO" id="MH_TXN_NO" placeholder="TRANSACTION NUMBER">
							    <input type="hidden" class="form-control" name="MH_TXN_DT" id="defaultdate1" placeholder="TRANSACTION DATE">
							   
							<div class="form-group">
							    <label class="col-md-4 control-label"></label>
							    <div class="col-md-4">
							    
							    </div>
							</div>
							
							<div class="form-group">
								    <label class="col-md-4 control-label">Window Opening</label>
								    <div class="col-md-4" id="SelectWinOpenType" >
										<select class="form-control selectpicker" onchange="getWinOpenType(this);" name="ML_WINDOW_OPENING" id="ML_WINDOW_OPENING" data-live-search="true" data-style="btn-white">
										  	<option id="WinOpenType" value="">Select</option>
											<option value="VSL_CODE" ></option>
										</select>
								    </div>
							</div>
							<div class="form-group">
								    <label class="col-md-4 control-label">Handle Position</label>
								    <div class="col-md-4" id="SelectHandlePositionType" >
										<select class="form-control selectpicker" onchange="getHandlePosition(this);" name="ML_HANDLE_POSITION" id="ML_HANDLE_POSITION" data-live-search="true" data-style="btn-white">
										  	<option id="HandlePositionType" value="">Select</option>
											<option value="VSL_CODE" ></option>
										</select>
								    </div>
							</div> 
							<div class="form-group">
							    <label class="col-md-4 control-label">Handle Size</label>
							    <div class="col-md-4">
							        <input type="text" class="form-control"  id="ML_HANDLE_SIZE" name="ML_HANDLE_SIZE" placeholder=" 999.99 cm">
							    </div>
							</div>
							<div class="form-group">
							    <label class="col-md-4 control-label">Power Distance</label>
							    <div class="col-md-4">
							        <input type="text" class="form-control"  id="ML_POWER_DISTANCE" name="ML_POWER_DISTANCE" placeholder=" 999.99 cm">
							    </div>
							</div>

							<div class="form-group">
							    <label class="col-md-4 control-label">Gypsum</label>
							    <div class="col-md-4">
								<select class="form-control selectpicker" onchange="getPelmet1(this);" name="ML_GYPSUM_YN" id="ML_GYPSUM_YN" data-live-search="true" data-style="btn-white">
								    <option selected="selected" value="">Select</option>
								    <option value="Y">Yes</option>
								    <option value="N">No</option>
								</select>
							    </div>
							</div>

							<div class="form-group gypsumDetail" id="hide12">
							    <label class="col-md-4 control-label">Gypsum Width</label>
							    <div class="col-md-4">
							        <input type="text" class="form-control"  id="ML_GYPSUM_WIDTH" name="ML_GYPSUM_WIDTH" placeholder=" 999.99 cm">
							    </div>
							</div>
							<div class="form-group gypsumDetail" id="hide12">
							    <label class="col-md-4 control-label">Gypsum Height</label>
							    <div class="col-md-4">
							        <input type="text" class="form-control"  id="ML_GYPSUM_HEIGHT" name="ML_GYPSUM_HEIGHT" placeholder="999.99 cm">
							    </div>
							</div>
							<div class="form-group gypsumDetail" id="hide12">
							    <label class="col-md-4 control-label">Gypsum Depth</label>
							    <div class="col-md-4">
							        <input type="text" class="form-control"  id="ML_GYPSUM_DEPTH" name="ML_GYPSUM_DEPTH" placeholder="999.99 cm">
							    </div>
							</div>
							<div class="form-group">
							    <label class="col-md-4 control-label"></label>
							    <div class="col-md-4">
							    </div>
							</div>
							<div class="form-group">
							    <label class="col-md-4 control-label"></label>
							    <div class="col-md-4">
							    </div>
							</div>
						    </div>
						</div>
					    </fieldset>
					</div>
					<!-- end wizard step-3 -->
					
					<!-- begin wizard step-4 -->
					<div>
						<fieldset>
							<legend class="pull-left width-full">Window</legend>
							<div class="row">
								<center>
									<div class="row">
										<div class="form-group">
										    <label class="col-md-4 control-label">Width</label>
										    <div class="col-md-4">
										        <input type="text" class="form-control" onkeyup="previewChanges('width');" id="ML_WIDTH" name="ML_WIDTH" placeholder=" 999.99 cm">
										    </div>
										</div>
										<div class="form-group">
										    <label class="col-md-4 control-label">Height</label>
										    <div class="col-md-4">
										        <input type="text" class="form-control" onkeyup="previewChanges('height');" id="ML_HEIGHT" name="ML_HEIGHT" placeholder=" 999.99 cm">
										    </div>
										</div>
										<div class="form-group">
										    <label class="col-md-4 control-label">Full Width</label>
										    <div class="col-md-4">
										        <input type="text" class="form-control" onkeyup="previewChanges();"  id="ML_FULL_WIDTH" name="ML_FULL_WIDTH" placeholder=" 999.99 cm">
										    </div>
										</div>  
									</div>
									<div class="row">    
										<div class="col-md-4 form-group">
										    <label class="col-md-4 control-label">Full Height</label>
										    <div class="col-md-4">
										        <input type="text" class="form-control" onkeyup="previewChanges();" id="ML_FULL_HEIGHT" name="ML_FULL_HEIGHT" placeholder=" 999.99 cm">
										    </div>
										</div>
										<div class="col-md-4 form-group">
										    <label class="col-md-4 control-label">Wall to Left</label>
										    <div class="col-md-4">
										        <input type="text" class="form-control" onkeyup="previewChanges();" id="ML_LEFT_WALL" name="ML_LEFT_WALL" placeholder=" 999.99 cm">
										    </div>
										</div>
										<div class="col-md-4 form-group">
										    <label class="col-md-4 control-label">Wall to Right</label>
										    <div class="col-md-4">
										        <input type="text" class="form-control"  id="ML_RIGHT_WALL" name="ML_RIGHT_WALL" placeholder=" 999.99 cm">
										    </div>
										</div>
									</div>
									<div class="row">
										<div class="col-md-4 form-group">
										    <label class="col-md-4 control-label">Up to Ceiling</label>
										    <div class="col-md-4">
										        <input type="text" class="form-control" onkeyup="previewChanges();" id="ML_CEILING_UP" name="ML_CEILING_UP" placeholder=" 999.99 cm">
										    </div>
										</div>
										<div class="col-md-4 form-group">
										    <label class="col-md-4 control-label">Down to Floor</label>
										    <div class="col-md-4">
										        <input type="text" class="form-control"  id="ML_FLOOR_DOWN" name="ML_FLOOR_DOWN" placeholder=" 999.99 cm">
										    </div>
										</div>
										<div class="col-md-4 form-group">
										    <label class="col-md-4 control-label">Window Depth</label>
										    <div class="col-md-4">
										        <input type="text" class="form-control" onkeyup="previewChanges();" id="ML_WINDOW_DEPTH" name="ML_WINDOW_DEPTH" placeholder=" 999.99 cm">
										    </div>
										</div>
									</div>
									<div class="col-md-6 col-sm-6">
									    <div id="previewBox">
											<div id="wallDesign">
											    <div id="productDesign">
													<img src="img/blinds.png">
											    </div>
											</div>
									    </div>
									</div>
								</center>
							</div>
						</fieldset>
					</div>
					<!-- end wizard step-4 -->					
					
					
					<!-- begin wizard step-5 -->
					<div>
						<fieldset>
							<legend class="pull-left width-full">Capture</legend>
							<div class="row form-horizontal">
								<center>
									<div class="form-group">
										<span><img id="imgProfile" src="" style="width:50%;height:50%"></span>
										<button onclick="capturePhoto();" class="btn btn-primary btn-info" >Capture</button>
										<!-- <button onclick="testUploads();" class="btn btn-primary btn-info" >Upload Capture</button> -->
									</div>
									<div class="form-group">
										<span><img id="imgProfile1" src="" style="width:50%;height:50%"></span>
										<button onclick="capturePhoto1();" class="btn btn-primary btn-info" >Capture</button>
									</div>
									<div class="form-group">
										<span><img id="imgProfile2" src="" style="width:50%;height:50%"></span>
										<button onclick="capturePhoto2();" class="btn btn-primary btn-info" >Capture</button>
									</div>
									<div class="form-group">
										<span><img id="imgProfile3" src="" style="width:50%;height:50%"></span>
										<button onclick="capturePhoto3();" class="btn btn-primary btn-info" >Capture</button>
									</div>
									<div class="form-group">
										<span><img id="imgProfile4" src="" style="width:50%;height:50%"></span>
										<button onclick="capturePhoto4();" class="btn btn-primary btn-info" >Capture</button>
									</div>
									<!-- <div class="form-group">
									<button onclick="intUpload();" class="btn btn-primary btn-info" >Testing</button>
									</div> -->
								</center>
							</div>
						</fieldset>
					</div>
					<!-- end wizard step-5 -->		
					
					<!-- begin wizard step-6 -->
					<div>
					    <fieldset>
							<legend class="pull-left width-full">Confirm</legend>
							<div class="row form-horizontal">
							    <div class="col-md-12" id="">
									<div class="form-group">
									    <label class="col-md-4 control-label">Customer Name</label>
									    <div class="col-md-4">
										<input type="text" class="form-control"  id="CON_LSL_CUST_AC_DESC" readonly>
										
									    </div>
									</div>
									<div class="form-group">
									    <label class="col-md-4 control-label">Contact Person</label>
									    <div class="col-md-4">
										<input type="text" class="form-control"  id="CON_LSL_CONTACT_PERSON" readonly>
									    </div>
									</div>
									<div class="form-group">
									    <label class="col-md-4 control-label">Address</label>
									    <div class="col-md-4">
										<input type="text" class="form-control"   id="CON_LSL_ADDRESS" readonly>
									    </div>
									</div>
									<div class="form-group">
									    <label class="col-md-4 control-label">City</label>
									    <div class="col-md-4">
										<input type="text" class="form-control"  id="CON_LSL_CITY" readonly>
									    </div>
									</div>
									<div class="form-group">
									    <label class="col-md-4 control-label">Ref Transaction</label>
									    <div class="col-md-4">
										<input type="text" class="form-control"  id="CON_LSL_REF_TXN_CODE"  readonly>
									    </div>
									</div>
									<div  class="form-group">
									    <label class="col-md-4 control-label">Ref No</label>
									    <div class="col-md-4">
											<input type="text" class="form-control"  id="CON_LSL_REF_TXN_NO" readonly>
									    </div>
									</div>
							    </div>
							    <div id="saveLinesData" class="hide">
								    <center>
										<a href="" class="btn btn-sm btn-primary button">save</a>
										<a onclick="window.history.back();"class="btn btn-sm btn-danger">close</a>
									</center>
								</div>
							    <div class="col-md-12" id="confirmation_page"></div>
							    <div class="col-md-12" id="Testing"></div>
							</div>
					    </fieldset>
					</div>
					<!-- end wizard step-6 -->
					
				    </div>
				</div>
			    </div>
			</div>
		    </div>
		</div>
	    </div>
	</div>

<!-- Html code end -->
  
  
	
		<!-- ================== JS ================== -->
	<script type="text/javascript">
	
	function CheckNetwork(){
		alert("Check Network conn");
		 var networkState = navigator.connection.type;
	     var states = {};
	     states[Connection.UNKNOWN]  = 'Unknown connection';
	     states[Connection.ETHERNET] = 'Ethernet connection';
	     states[Connection.WIFI]     = 'WiFi connection';
	     states[Connection.CELL_2G]  = 'Cell 2G connection';
	     states[Connection.CELL_3G]  = 'Cell 3G connection';
	     states[Connection.CELL_4G]  = 'Cell 4G connection';
	     states[Connection.CELL]     = 'Cell generic connection';
	     states[Connection.NONE]     = 'No network connection';
	     alert('Connection type: ' + states[networkState]);
	     if(states[networkState] ==  'No network connection'){
	    	 OfflineButtonShow();
	     }else{
	    	 //OnlineButtonShow();
	    	 OfflineButtonShow();
	     }
	 };
	 
	 
	 /* Head Values check start */
	 function SelectLocalLinesValues12(){
		 alert("Local Lines Values");
			var db = window.openDatabase("Spine", "1.0", "Spine Demo", 100 * 1024 * 1024);
			db.transaction(Local_Measure_Line, errorCB);
			function Local_Measure_Line(tx) {
				var headSysVal = localStorage.getItem("SYS_ID");
				tx.executeSql('SELECT * FROM LOGI_T_MEASURE_LINES ', [], function (tx, results) {
					var lineData =  [];
					var Linelength = results.rows.length;
					alert("Linelength-->"+Linelength);
					for (var i=0; i <Linelength; i++){
						var row = results.rows.item(i);
						var linesValue = {MH_SALE_REF_SYS_ID:row.MH_SALE_REF_SYS_ID,SYS_ID:row.SYS_ID,USER_COMP_CODE:row.USER_COMP_CODE,MH_TXN_DT:row.MH_TXN_DT,LSL_LOCN_CODE:row.LSL_LOCN_CODE,ML_BUILD:row.ML_BUILD,ML_FLOOR:row.ML_FLOOR,ML_FLAT:row.ML_FLAT,ML_UNIT:row.ML_UNIT,ML_PRODUCT_CODE:row.ML_PRODUCT_CODE,ML_COLOR_CODE:row.ML_COLOR_CODE,ML_WIDTH:row.ML_WIDTH,ML_HEIGHT:row.ML_HEIGHT,ML_QTY:row.ML_QTY,ML_MOUNT_TYPE:row.ML_MOUNT_TYPE,ML_MOUNT_ON:row.ML_MOUNT_ON,ML_OPERATE:row.ML_OPERATE,ML_CONTROL:row.ML_CONTROL,ML_OPENING:row.ML_OPENING,ML_PELMET:row.ML_PELMET,ML_PROJECTION:row.ML_PROJECTION,ML_FASICA:row.ML_FASICA,ML_REMARKS:row.ML_REMARKS,LSL_REF_SYS_ID:row.LSL_REF_SYS_ID,USER_ID:row.USER_ID,ML_FULL_WIDTH:row.ML_FULL_WIDTH,ML_FULL_HEIGHT:row.ML_FULL_HEIGHT,ML_LEFT_WALL:row.ML_LEFT_WALL,ML_RIGHT_WALL:row.ML_RIGHT_WALL,ML_CEILING_UP:row.ML_CEILING_UP,ML_FLOOR_DOWN:row.ML_FLOOR_DOWN,ML_WINDOW_DEPTH:row.ML_WINDOW_DEPTH,ML_WINDOW_OPENING:row.ML_WINDOW_OPENING,ML_HANDLE_POSITION:row.ML_HANDLE_POSITION,ML_HANDLE_SIZE:row.ML_HANDLE_SIZE,ML_POWER_DISTANCE:row.ML_POWER_DISTANCE,ML_GYPSUM_YN:row.ML_GYPSUM_YN,ML_GYPSUM_WIDTH:row.ML_GYPSUM_WIDTH,ML_GYPSUM_HEIGHT:row.ML_GYPSUM_HEIGHT,ML_GYPSUM_DEPTH:row.ML_GYPSUM_DEPTH,ML_BULD_TYPE:row.ML_BULD_TYPE,ML_ROOM_NO:row.ML_ROOM_NO,ML_WINDOW_NO:row.ML_WINDOW_NO};
						lineData.push(linesValue);
					}
					alert("data"+lineData);
					var length = lineData.length;
					alert("data->"+length);
					for (var i=0; i<length; i++){
						var j=0;
						var linePushData = lineData[i];
						$.ajax({ 
						    type: "POST",
						    url: "http://www.dev.sedarspine.com/en/spineLogisticsApp/MeasurementTransactionLines_Local2Server",
						    data :  {"lineData":linePushData},
						    dataType:'json',
						    async: false,
							success: function (json) {
								alert("Json->"+json);
								alert("line Id-->"+json.system_line_id);
								alert("Line status-->"+json.return_line_status);
								alert("msg-->"+json.return_line_message);
								localStorage.setItem("SYS_LINE_ID", json.system_line_id);
								imageData();
							},error:function (xhr, ajaxOptions, thrownError){
						    	alert(xhr);
						    	alert(ajaxOptions);
						    	alert(thrownError);
						    } 
						});
						
						function imageData(){
							alert("Local Images Values");
							var db = window.openDatabase("Spine", "1.0", "Spine Demo", 100 * 1024 * 1024);
							db.transaction(Local_Measure_Image, errorCB);
							function Local_Measure_Image(tx) {
								var SYS_ID = localStorage.getItem("SYS_ID");
								var SYS_LINE_ID = localStorage.getItem("SYS_LINE_ID");
								tx.executeSql('SELECT * FROM LOGI_T_MEASURE_IMAGES WHERE SYS_ID = ? AND SYS_LINE_ID = ?', [SYS_ID,SYS_LINE_ID], function (tx, results) {
									var imageData =  [];
									var ImageLength = results.rows.length;
									alert("img->"+ImageLength);
									for (var i=0; i <ImageLength; i++){
										var row = results.rows.item(i);
										var imageValue = {USER_COMP_CODE:row.USER_COMP_CODE,SYS_LINE_ID:row.SYS_LINE_ID,SYS_ID:row.SYS_ID,SERVER_PATH:row.SERVER_PATH,USER_ID:row.USER_ID};
										imageData.push(imageValue);
									}
									alert(imageData);
									alert("ID"+imageData[0].USER_COMP_CODE);
									
								});
							}
							
						}
				}
				function errorCB(tx, err) {
				 	//alert("Error");
				 	//alert("Error processing SQL: "+err);
				}
			});
		  }
		 
	 }
	 /* Head Values check end */
	 
	 function SelectLocalHeadValues12(){
			alert("SelectLocalHeadValues");
			var db = window.openDatabase("Spine", "1.0", "Spine Demo", 100 * 1024 * 1024);
			db.transaction(Local_Measure_Head, errorCB);
			function Local_Measure_Head(tx) {
				tx.executeSql('SELECT * FROM LOGI_T_MEASURE_HEAD ', [], function (tx, results) {
					var headData =  [];
					var Headlength = results.rows.length;
					alert("Headlength-->"+Headlength);
				 	  for (var i = 0; i < Headlength; i++) {
						var row = results.rows.item(i);
						var headValues = {USER_COMP_CODE:row.USER_COMP_CODE,MH_TXN_CODE:row.MH_TXN_CODE,MH_TXN_DT:row.MH_TXN_DT,LSH_DOC_REF:row.LSH_DOC_REF,LSL_LOCN_CODE:row.LSL_LOCN_CODE,LSL_SR_CODE:row.LSL_SR_CODE,LSL_REF_SYS_ID:row.LSL_REF_SYS_ID,LSL_REF_TXN_CODE:row.LSL_REF_TXN_CODE,LSL_REF_TXN_NO:row.LSL_REF_TXN_NO,LSL_REF_TXN_DT:row.LSL_REF_TXN_DT,MH_SALE_REF_TXN_CODE:row.MH_SALE_REF_TXN_CODE,MH_SALE_REF_TXN_NO:row.MH_SALE_REF_TXN_NO,MH_SALE_REF_SYS_ID:row.MH_SALE_REF_SYS_ID,MH_SALE_REF_TXN_DT:row.MH_SALE_REF_TXN_DT,LSL_CONTACT_NO:row.LSL_CONTACT_NO,MH_CONTACT_PERSON:row.MH_CONTACT_PERSON,LSL_CUST_AC_CODE:row.LSL_CUST_AC_CODE,MH_CUST_AC_DESC:row.MH_CUST_AC_DESC,MH_ADD1:row.MH_ADD1,LSL_ADD2:row.LSL_ADD2,LSL_ADD3:row.LSL_ADD3,LSL_ADD4:row.LSL_ADD4,LSL_CN_CODE:row.LSL_CN_CODE,LSL_ST_CODE:row.LSL_ST_CODE,MH_CT_CODE:row.MH_CT_CODE,LSL_CT_AREA_CODE:row.LSL_CT_AREA_CODE,LSL_POSTAL:row.LSL_POSTAL,LSL_MOBILE:row.LSL_MOBILE,LSL_PHONE:row.LSL_PHONE,LSL_FAX:row.LSL_FAX,LSL_EMAIL:row.LSL_EMAIL,LSL_DESC:row.LSL_DESC,LSL_APPOINT_DT:row.LSL_APPOINT_DT,USER_ID:row.USER_ID,MH_REF_TXN_DT:row.MH_REF_TXN_DT};
						headData.push(headValues);
					}  
				 	
					
					//alert("ID"+headData[0].USER_COMP_CODE);
					
					var len = headData.length;
					alert(len);
					for (var i=0; i<len; i++){
						var headPush = headData[i];
						alert("comp code-->"+headPush.USER_COMP_CODE);
						$.ajax({ 
						    type: "POST",
						    url: "http://www.dev.sedarspine.com/en/spineLogisticsApp/MeasurementTransactionHead_Local2Server",
						    data : {"headData":headPush},
						    dataType:'json',
							success: function (json) {
								alert("json-->"+json);
								alert("sys-->"+json.system_id);
								alert("sys-->"+json.error_message);
								localStorage.setItem("SYS_ID", json.system_id);
								//ReplaceHeadQuery();
								Linedata();
								
						    },error:function (xhr, ajaxOptions, thrownError){
						    	alert(xhr);
						    	alert(ajaxOptions);
						    	alert(thrownError);
						    } 
						});
						/* Line Data start */
						
						function Linedata(){
							alert("Local Lines Values");
							var db = window.openDatabase("Spine", "1.0", "Spine Demo", 100 * 1024 * 1024);
							db.transaction(Local_Measure_Line, errorCB);
							function Local_Measure_Line(tx) {
								var headSysVal = localStorage.getItem("SYS_ID");
								tx.executeSql('SELECT * FROM LOGI_T_MEASURE_LINES ', [], function (tx, results) {
									var lineData =  [];
									var Linelength = results.rows.length;
									alert("Linelength-->"+Linelength);
									for (var i=0; i <Linelength; i++){
										var row = results.rows.item(i);
										var linesValue = {MH_SALE_REF_SYS_ID:row.MH_SALE_REF_SYS_ID,SYS_ID:row.SYS_ID,USER_COMP_CODE:row.USER_COMP_CODE,MH_TXN_DT:row.MH_TXN_DT,LSL_LOCN_CODE:row.LSL_LOCN_CODE,ML_BUILD:row.ML_BUILD,ML_FLOOR:row.ML_FLOOR,ML_FLAT:row.ML_FLAT,ML_UNIT:row.ML_UNIT,ML_PRODUCT_CODE:row.ML_PRODUCT_CODE,ML_COLOR_CODE:row.ML_COLOR_CODE,ML_WIDTH:row.ML_WIDTH,ML_HEIGHT:row.ML_HEIGHT,ML_QTY:row.ML_QTY,ML_MOUNT_TYPE:row.ML_MOUNT_TYPE,ML_MOUNT_ON:row.ML_MOUNT_ON,ML_OPERATE:row.ML_OPERATE,ML_CONTROL:row.ML_CONTROL,ML_OPENING:row.ML_OPENING,ML_PELMET:row.ML_PELMET,ML_PROJECTION:row.ML_PROJECTION,ML_FASICA:row.ML_FASICA,ML_REMARKS:row.ML_REMARKS,LSL_REF_SYS_ID:row.LSL_REF_SYS_ID,USER_ID:row.USER_ID,ML_FULL_WIDTH:row.ML_FULL_WIDTH,ML_FULL_HEIGHT:row.ML_FULL_HEIGHT,ML_LEFT_WALL:row.ML_LEFT_WALL,ML_RIGHT_WALL:row.ML_RIGHT_WALL,ML_CEILING_UP:row.ML_CEILING_UP,ML_FLOOR_DOWN:row.ML_FLOOR_DOWN,ML_WINDOW_DEPTH:row.ML_WINDOW_DEPTH,ML_WINDOW_OPENING:row.ML_WINDOW_OPENING,ML_HANDLE_POSITION:row.ML_HANDLE_POSITION,ML_HANDLE_SIZE:row.ML_HANDLE_SIZE,ML_POWER_DISTANCE:row.ML_POWER_DISTANCE,ML_GYPSUM_YN:row.ML_GYPSUM_YN,ML_GYPSUM_WIDTH:row.ML_GYPSUM_WIDTH,ML_GYPSUM_HEIGHT:row.ML_GYPSUM_HEIGHT,ML_GYPSUM_DEPTH:row.ML_GYPSUM_DEPTH,ML_BULD_TYPE:row.ML_BULD_TYPE,ML_ROOM_NO:row.ML_ROOM_NO,ML_WINDOW_NO:row.ML_WINDOW_NO};
										lineData.push(linesValue);
									}
									alert("data"+lineData);
									var length = lineData.length;
									alert("data->"+length);
									for (var i=0; i<length; i++){
										var linePushData = lineData[i];
										$.ajax({ 
										    type: "POST",
										    url: "http://www.dev.sedarspine.com/en/spineLogisticsApp/MeasurementTransactionLines_Local2Server",
										    data :  {"lineData":linePushData},
										    dataType:'json',
										    async: false,
											success: function (json) {
												alert("Json->"+json);
												alert("line Id-->"+json.system_line_id);
												alert("Line status-->"+json.return_line_status);
												alert("msg-->"+json.return_line_message);
												localStorage.setItem("SYS_LINE_ID", json.system_line_id);
												imageData();
										    },error:function (xhr, ajaxOptions, thrownError){
										    	alert(xhr);
										    	alert(ajaxOptions);
										    	alert(thrownError);
										    } 
										});		
										
									function imageData(){
										alert("Local Images Values");
										var db = window.openDatabase("Spine", "1.0", "Spine Demo", 100 * 1024 * 1024);
										db.transaction(Local_Measure_Image, errorCB);
										function Local_Measure_Image(tx) {
											var SYS_ID = localStorage.getItem("SYS_ID");
											var SYS_LINE_ID = localStorage.getItem("SYS_LINE_ID");
											tx.executeSql('SELECT * FROM LOGI_T_MEASURE_IMAGES WHERE SYS_ID = ? AND SYS_LINE_ID = ?', [SYS_ID,SYS_LINE_ID], function (tx, results) {
												var imageData =  [];
												var ImageLength = results.rows.length;
												alert("img->"+ImageLength);
												for (var i=0; i <ImageLength; i++){
													var row = results.rows.item(i);
													var imageValue = {USER_COMP_CODE:row.USER_COMP_CODE,SYS_LINE_ID:row.SYS_LINE_ID,SYS_ID:row.SYS_ID,SERVER_PATH:row.SERVER_PATH,USER_ID:row.USER_ID};
													imageData.push(imageValue);
												}
												alert(imageData);
												alert("ID"+imageData[0].USER_COMP_CODE);
												
											});
										}
										
									}
								}
								function errorCB(tx, err) {
								 	//alert("Error");
								 	//alert("Error processing SQL: "+err);
								}
							});
						  }	
						}
						
						/* Line Data end */
					}       
				});
			}
			function errorCB(tx, err) {
			 	//alert("Error");
			 	//alert("Error processing SQL: "+err);
			}
		}
	 
	/*  function ReplaceHeadQuery(){
		 alert("ReplaceHeadQuery");	
		 var db = window.openDatabase("Spine", "1.0", "Spine Demo", 100 * 1024 * 1024);
		 db.transaction(LineDB, errorCB);
		 function LineDB(tx) {
			 var headval = localStorage.getItem("SYS_ID");
			 alert("update-->"+headval);
			 tx.executeSql('UPDATE LOGI_T_MEASURE_LINES SET SYS_ID =? WHERE SYS_ID =6470', [headval], function (tx, results) {
				 var length = results.rows.length;
				 alert(length);
				 alert(results.rows.item.SYS_ID);
				 SelectLocalLinesValues12();
			 });
					
		}
				function errorCB(tx, err) {
				 	//alert("Error");
				 	//alert("Error processing SQL: "+err);
				 	} 
				
			} 
	 
	 function SelectLocalLinesValues12(){
			alert("SelectLocalLinesValues");
			var db = window.openDatabase("Spine", "1.0", "Spine Demo", 100 * 1024 * 1024);
			db.transaction(Local_Measure_Line, errorCB);
			function Local_Measure_Line(tx) {
				tx.executeSql('SELECT * FROM LOGI_T_MEASURE_LINES ', [], function (tx, results) {
					var lineData =  [];
					var Linelength = results.rows.length;
					alert("Linelength-->"+Linelength);
					for (var i=0; i <Linelength; i++){
						var row = results.rows.item(i);
						var linesValue = {MH_SALE_REF_SYS_ID:row.MH_SALE_REF_SYS_ID,SYS_ID:row.SYS_ID,USER_COMP_CODE:row.USER_COMP_CODE,MH_TXN_DT:row.MH_TXN_DT,LSL_LOCN_CODE:row.LSL_LOCN_CODE,ML_BUILD:row.ML_BUILD,ML_FLOOR:row.ML_FLOOR,ML_FLAT:row.ML_FLAT,ML_UNIT:row.ML_UNIT,ML_PRODUCT_CODE:row.ML_PRODUCT_CODE,ML_COLOR_CODE:row.ML_COLOR_CODE,ML_WIDTH:row.ML_WIDTH,ML_HEIGHT:row.ML_HEIGHT,ML_QTY:row.ML_QTY,ML_MOUNT_TYPE:row.ML_MOUNT_TYPE,ML_MOUNT_ON:row.ML_MOUNT_ON,ML_OPERATE:row.ML_OPERATE,ML_CONTROL:row.ML_CONTROL,ML_OPENING:row.ML_OPENING,ML_PELMET:row.ML_PELMET,ML_PROJECTION:row.ML_PROJECTION,ML_FASICA:row.ML_FASICA,ML_REMARKS:row.ML_REMARKS,LSL_REF_SYS_ID:row.LSL_REF_SYS_ID,USER_ID:row.USER_ID,ML_FULL_WIDTH:row.ML_FULL_WIDTH,ML_FULL_HEIGHT:row.ML_FULL_HEIGHT,ML_LEFT_WALL:row.ML_LEFT_WALL,ML_RIGHT_WALL:row.ML_RIGHT_WALL,ML_CEILING_UP:row.ML_CEILING_UP,ML_FLOOR_DOWN:row.ML_FLOOR_DOWN,ML_WINDOW_DEPTH:row.ML_WINDOW_DEPTH,ML_WINDOW_OPENING:row.ML_WINDOW_OPENING,ML_HANDLE_POSITION:row.ML_HANDLE_POSITION,ML_HANDLE_SIZE:row.ML_HANDLE_SIZE,ML_POWER_DISTANCE:row.ML_POWER_DISTANCE,ML_GYPSUM_YN:row.ML_GYPSUM_YN,ML_GYPSUM_WIDTH:row.ML_GYPSUM_WIDTH,ML_GYPSUM_HEIGHT:row.ML_GYPSUM_HEIGHT,ML_GYPSUM_DEPTH:row.ML_GYPSUM_DEPTH,ML_BULD_TYPE:row.ML_BULD_TYPE,ML_ROOM_NO:row.ML_ROOM_NO,ML_WINDOW_NO:row.ML_WINDOW_NO};
						lineData.push(linesValue);
					}
					alert("data"+linesValue);
					var length = lineData.length;
					$.ajax({ 
					    type: "POST",
					    url: "http://www.dev.sedarspine.com/en/spineLogisticsApp/MeasurementTransactionLines_Local2Server",
					    data :  {"lineData":lineData},
					    dataType:'json',
						success: function (json) {
							alert("line Id-->"+json.system_line_id);
							alert("Line status-->"+json.return_line_status);
							alert("msg-->"+json.return_line_message);
							localStorage.setItem("SYS_ID", json.system_id);
					    },error:function (xhr, ajaxOptions, thrownError){
					    	alert(xhr);
					    	alert(ajaxOptions);
					    	alert(thrownError);
					    } 
					});
					
				});
			}
			function errorCB(tx, err) {
			 	//alert("Error");
			 	//alert("Error processing SQL: "+err);
			}
		}
	 */
	</script>

        
        <!-- ================== BEGIN BASE JS ================== -->
	<script src="assets/plugins/jquery/jquery-1.9.1.min.js"></script>
	<script src="http://cdn.jagansindia.in/webrupee" type="text/javascript"></script>
	<script src="assets/plugins/jquery/jquery-migrate-1.1.0.min.js"></script>
	<script src="assets/plugins/jquery-ui/ui/minified/jquery-ui.min.js"></script>
	<script src="assets/plugins/bootstrap/js/bootstrap.min.js"></script>
   	<script src="assets/plugins/bootstrap-validation/js/bootstrapValidator.js"></script>
	<!--Dashboard Start-->
	<script src="assets/js/dashboard.min.js"></script>
	<script src="assets/plugins/flot/jquery.flot.min.js"></script>
	<script src="assets/plugins/sparkline/jquery.sparkline.js"></script>
	<!--Dashboard End-->
	<script src="assets/plugins/slimscroll/jquery.slimscroll.min.js"></script>
	<script src="assets/plugins/jquery-cookie/jquery.cookie.js"></script>
        
	<!--====================== MOMENT JS INCLUDE ===============-->
	<script src="assets/plugins/moment/moment.min.js"></script>
	<!--====================== MOMENT JS INCLUDE ===============-->
	
	<!-- ================== START EXPORT================== -->
	<script type="text/javascript" src="assets/plugins/export/tableExport.js"></script>
    <script type="text/javascript" src="assets/plugins/export/jquery.base64.js"></script>
	<script type="text/javascript" src="assets/plugins/export/jspdf/libs/sprintf.js"></script>
	<script type="text/javascript" src="assets/plugins/export/jspdf/jspdf.js"></script>
	<script type="text/javascript" src="assets/plugins/export/jspdf/libs/base64.js"></script>
	<!-- ================== END EXPORT================== -->

	
	<!-- ================== END BASE JS ================== -->
	
	<!-- ================== BEGIN PAGE LEVEL JS Data tables================== -->
	
	<script src="assets/plugins/DataTables/js/jquery.dataTables.js"></script>
	<script src="assets/plugins/DataTables/js/dataTables.responsive.js"></script>
	<script src="assets/js/table-manage-responsive.demo.min.js"></script>
	
	
        <!-- ================== END PAGE LEVEL JS ================== -->
	
	<!-- ================== BEGIN PAGE LEVEL JS Form plugin================== -->
	<script src="assets/plugins/bootstrap-datetimepicker2/js/moment-with-locales.js"></script>
	<script src="assets/plugins/bootstrap-datetimepicker2/js/bootstrap-datetimepicker.min.js"></script>
	<!--<script src="assets/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>-->
	<script src="assets/plugins/ionRangeSlider/js/ion-rangeSlider/ion.rangeSlider.min.js"></script>
	<script src="assets/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.min.js"></script>
	<script src="assets/plugins/masked-input/masked-input.min.js"></script>
	<script src="assets/plugins/bootstrap-timepicker/js/bootstrap-timepicker.min.js"></script>
	<script src="assets/plugins/password-indicator/js/password-indicator.js"></script>
	<script src="assets/plugins/bootstrap-combobox/js/bootstrap-combobox.js"></script>
	<script src="assets/plugins/bootstrap-select/bootstrap-select.min.js"></script>
	<script src="assets/plugins/bootstrap-tagsinput/bootstrap-tagsinput.min.js"></script>
	<script src="assets/plugins/bootstrap-tagsinput/bootstrap-tagsinput-typeahead.js"></script>
	<script src="assets/plugins/jquery-tag-it/js/tag-it.min.js"></script>
	<script src="assets/js/form-plugins.demo.min.js"></script>
	<script src="assets/js/apps.min.js"></script>

	<!-- ================== END PAGE LEVEL JS ================== -->
	
	<!-- ================== BEGIN PAGE LEVEL JS hide column================== -->
	<script src="assets/plugins/DataTables/js/jquery.dataTables.js"></script>
	<script src="assets/plugins/DataTables/js/dataTables.autoFill.js"></script>
	<!--<script src="assets/plugins/DataTables/js/dataTables.colReorder.js"></script>-->
	<script src="assets/plugins/DataTables/js/dataTables.colVis.js"></script>
	<script src="assets/plugins/DataTables/js/dataTables.fixedHeader.js"></script>
	<script src="assets/plugins/DataTables/js/dataTables.keyTable.js"></script>
	<script src="assets/plugins/DataTables/js/dataTables.tableTools.js"></script>
	<script src="assets/js/table-manage-combine.demo.min.js"></script>
	<!-- ================== END PAGE LEVEL JS ================== -->
	
	
	<!-- ================== BEGIN PAGE LEVEL JS wizard ================== -->

	<script src="assets/plugins/bootstrap-wizard/js/bwizard.js"></script>
	<script src="assets/js/form-wizards.demo.min.js"></script>
	<script src="assets/js/apps.min.js"></script>
	<!-- ================== END PAGE LEVEL JS ================== -->
	<!-- ================== BEGIN PAGE LEVEL Currency Format ================== -->
	<script type="text/javascript" src="assets/js/jquery.formatCurrency-1.4.0.js"></script>
	<!-- ================== END PAGE LEVEL JS ================== -->
	
	<!-- ================== Begin formValidation packages================== -->
	<link href="assets/plugins/formValidation/css/formValidation.css" rel="stylesheet" />
	<script src="assets/plugins/formValidation/js/formValidation.js"></script>
	<script src="assets/plugins/formValidation/js/framework/bootstrap.min.js"></script>
	<!-- ================== End formValidation packages================== -->
	
	
	<!-- ================== SPINE APP BEGIN BASE JS ================== -->
	
	<script src="js/login.js" type="text/javascript"></script>
	<script src="js/app_user.js" type="text/javascript"></script>
	<script src="js/camera.js" type="text/javascript"></script>
	<script src="cordova.js" type="text/javascript"></script>
	<script src="js/Measure.js" type="text/javascript"></script>
	<script src="js/OfflineMeasurementValues.js" type="text/javascript"></script>
	<script src="js/OnlineMeasurementValues.js" type="text/javascript"></script>
	
	<!-- ================== SPINE APP END BASE JS ================== -->
		
	<script type="text/javascript">
		$(document).ready(function() {
			App.init();
		});
	</script>
	<!-- ================== BEGIN WEBQR JS ================== -->
			<script src="assets/js/bootbox.min.js"></script>
			<script type="text/javascript" src="assets/plugins/qrjs/llqrcode.js"></script>
			<script type="text/javascript" src="assets/plugins/qrjs/webqr.js"></script>
			<script type="text/javascript" src="assets/plugins/qrjs/plusone.js"></script>
		<!-- ================== END WEBQR JS ================== -->
	
	<script type="text/javascript">

		var user_name = localStorage.getItem("user_id");
		if(user_name==null){
		window.open('index.html', '_blank','location=no');
		}
		function logout(){
			localStorage.clear();
			window.open('index.html', '_blank','location=no');
			
		}

</script>
	<script type="text/javascript">
	
	$(document).ready(function(){
	    $("#ML_BULD_TYPE").change(function(){
			var ML_BULD_TYPE = $("#ML_BULD_TYPE").val();
			if(ML_BULD_TYPE=="BLGD")
			{
			    $('#ML_BUILD').attr('placeholder','BUILDING NAME').siblings('label').text('Building Name');
			    $('#ML_FLOOR').attr('placeholder','FLOOR NUMBER').siblings('label').text('Floor Number');
			    $('#ML_FLAT').attr('placeholder','FLAT NUMBER').siblings('label').text('Flat Number');
			    $("#buildingDetails").show();
			    $("#flat").show();
			}
			else if(ML_BULD_TYPE=="VILLA")
			{
			    $('#ML_BUILD').attr('placeholder','VILLA NAME').siblings('label').text('Villa Name');
			    $('#ML_FLOOR').attr('placeholder','VILLA NUMBER').siblings('label').text('Villa Number');
			    $('#ML_FLAT').attr('placeholder','VILLA NUMBER').siblings('label').text('Villa Number');
			    $("#buildingDetails").show();
			    $("#flat").hide();
			}
	   	});
	});
	
    </script>

	<script type="text/javascript">
	
		$(document).ready(function(){
		 $("ul.pager li.next").click(function(){
			 var networkState = navigator.connection.type;
			 var states = {};
			 states[Connection.UNKNOWN]  = 'Unknown connection';
			 states[Connection.ETHERNET] = 'Ethernet connection';
			 states[Connection.WIFI]     = 'WiFi connection';
			 states[Connection.CELL_2G]  = 'Cell 2G connection';
			 states[Connection.CELL_3G]  = 'Cell 3G connection';
			 states[Connection.CELL_4G]  = 'Cell 4G connection';
			 states[Connection.CELL]     = 'Cell generic connection';
			 states[Connection.NONE]     = 'No network connection';
			 //alert('Connection type: ' + states[networkState]);
			 if (states[networkState] == 'No network connection'){
				 alert("Offline");
				 var vall=$("#wizard ol li.active span").text();
				 if (vall==2){
					 OfflineHeadCheck();
				 }
				 if (vall==6){
					 localStorageLines();
				 }
			 }else{
				 alert("Online");
				 var vall=$("#wizard ol li.active span").text();
				 if (vall==2){
					 
					// OnlineHeadCheck();
					 OfflineHeadCheck();
				 }
				 if (vall==6){
					 alert("wizard 6");
					// onlineStorageLines();
					 localStorageLines();
					 //TestingAjax();
					 //ajaxImage();
					 localDatasend();
					 
					 //localDatasend();
				 } 
			 }
		  });
		 });
		
		function TestingAjax(){
			alert("final views");
			$.ajax({
	    		url: 'Test.html',
			    type: 'POST',
			    data: {id:"Test"},
			    success: function (res){
			    	alert("response->"+res);
			    	$("#Testing").html(res);
			    	
			    }
			});
		}
	
	    $("#ML_PELMET").change(function()
	    {
		var ML_PELMET=$("#ML_PELMET").val();
		if (ML_PELMET=="No")
		{
		    $("*#hide").hide();
		    $("#ML_PROJECTION").val("");
		    $("#ML_FASICA").val("");
		}
		else
		{
		    $("*#hide").show();
		}
	    });
	    
	    $("#ML_GYPSUM_YN").change(function()
   	    {
	   		var ML_PELMET=$("#ML_GYPSUM_YN").val();
	   		if (ML_PELMET=="N")
	   		{
	   		    $("*#hide12").hide();
	   		}
	   		else
	   		{
	   			$("*#hide12").show();
	   		}
   	    });
	    
	</script>
	
	
	<script type="text/javascript">
	    
	    $('#form_validation').on('blur', '[name="ML_WIDTH"]', function()
	    {
		$("#ML_WIDTH").formatCurrency();
	    });
	    
	    $('#form_validation').on('blur', '[name="ML_HEIGHT"]', function()
	    {
		$("#ML_HEIGHT").formatCurrency();
	    });
	    
	</script>
	
	
    </body>
</html>
    <script type="text/javascript">

	$('#form_validation').on('blur', '.ML_WIDTH', function()
	{
	    $(".ML_WIDTH").formatCurrency();
	});
	
	$('#form_validation').on('blur', '.ML_HEIGHT', function()
	{
	    $(".ML_HEIGHT").formatCurrency();
	});
	
    </script>
    
    <script type="text/javascript">
	    
    $("#existEdit").click(function(){
    	alert("review complete");
    	var vall=$("#wizard ol li.active span").text();
    	alert("value->"+vall);
    	$("#wizard").bwizard("#step", 6);
    	//review_complete();
    });
    	$("#existEdit12").click(function()
	    {
	    	alert("wizard");
	    	//var sys_head_id = localStorage.getItem("SYS_ID");
		    var lsl_sys_id = localStorage.getItem("lsl_sys_id");
		    alert("lsl_sys_id--"+lsl_sys_id);
		    
		    $.ajax({
				type: "POST",
				url: 'http://www.dev.sedarspine.com/en/spineLogisticsApp/getMeasureHeadId',
				data :{lsl_sys_id:lsl_sys_id},
				dataType:"json",
				async:'false',
				success:function (json) {
					
					var len = json.length;
					alert("head length--"+len);
					alert("id--"+json[0].MH_SYS_ID);
					localStorage.setItem("headId12",json[0].MH_SYS_ID);
					getMeasureLineId();
				}

			});
		    
		    
		    function getMeasureLineId(){
		    	
		    	var sys_head_id = localStorage.getItem("headId12");
			    alert("head id-"+sys_head_id);
			    
			    $.ajax({
					type: "POST",
					url: 'http://www.dev.sedarspine.com/en/spineLogisticsApp/getMeasureLineId',
					data :{sys_head_id:sys_head_id},
					dataType:"json",
					async:'false',
					success:function (json) {
						
						var len = json.length;
						alert("line length--"+len);
						
						overviewcomplete12();
						
					}

				});
		    	
		    }
		    
		    function overviewcomplete12(){
		    	
		    	//$("#wizard").bwizard('fifth');
		    	//alert("success to overview");
		    	review_complete();
		    	
		    }
		    
		    function overviewcomplete(){
		    	alert("complete overview");
		    	var lsl_sys_id = localStorage.getItem("lsl_sys_id");
		    	var sys_head_id = localStorage.getItem("headId12");
		    	
		    	alert("lsl--"+lsl_sys_id);
		    	alert("head--"+sys_head_id);
		    	
		    	$.ajax
		    	({
		    	    url: "http://www.dev.sedarspine.com/en/LogiCtr/App_Fetch_MeasurementTransaction",
		    	    type: 'POST',
		    	    data: 'sys_head_id='+sys_head_id+'&lsl_sys_id='+lsl_sys_id,
		    	    success: function (resp)
		    	    {
		    	    	alert(resp);
		    	    	$("#confirmation_page").html(resp);
		    		    var Status = $('#MH_STATUS').val();
		    			if (Status == 'Approved')
		    			{
		    			    $('input,textarea,select,checkbox,button,span').attr('disabled',true);
		    			    $('.test').attr('disabled',true);
		    			    $(".previous").attr('disabled',true);
		    			}
		    			
		    	    }	    
		    	});
		    }
		
	    });
	    
	</script>
    
    <script type="text/javascript">
	
	function review_complete()
    {
		alert("review page");
		 var sys_id = localStorage.getItem("SYS_LINE_ID");
	    var sys_head_id = localStorage.getItem("SYS_ID");
	    var lsl_sys_id = $("input[name=lsl_sys_id]").val();
	   // var sys_head_id = "6470";
	    var USER_COMP_CODE = localStorage.getItem("USER_COMP_CODE");
	    alert("USER_COMP_CODE->"+USER_COMP_CODE);
	    alert("sys_id-->"+sys_id);
		alert("sys_head_id->"+sys_head_id);
		alert("lsl_sys_id->"+lsl_sys_id);
		 $.ajax
		({
		    url: 'http://www.dev.sedarspine.com/en/LogiCtr/App_Fetch_MeasurementTransaction',
		    type: 'POST',
		    data: {sys_id:sys_id,sys_head_id:sys_head_id,lsl_sys_id:lsl_sys_id,USER_COMP_CODE:USER_COMP_CODE},
		    success: function (resp)
		    {
		    	alert("resp->"+resp);
			var Status = $('#MH_STATUS').val();
			if(Status == 'Approved')
			{
			    $('input,select,button').attr('disabled',true);
			    $('.test').attr('disabled',true);
			}
			$("#confirmation_page").html(resp);
		    },
			error: function (xhr, ajaxOptions, thrownError) {
				alert(xhr);alert(ajaxOptions);alert(thrownError);
		    	
		    } 
		}); 
    };
	</script>
	 <script type="text/javascript">
	
	function UpdateMeasurementLine($current,$this)
	{
		alert("Current--"+$current);
	    var fv = $('#form_validation').data('bootstrapValidator');
	    var $ValidData=$($current).parents(".slidercount");
	    fv.validateContainer($ValidData);
	    var isValidStep = fv.isValidContainer($ValidData);
	    if (isValidStep === true)
	    {
		$('.selectpicker').selectpicker('refresh');
		var formData = new FormData($('#form_validation')[0]);
		formData.append("current_sysid", $this);
		var lineSystemId=$this;
		$.ajax
		({
		    url: "http://www.dev.sedarspine.com/en/LogiCtr/MeasurementTransactionLines_Update",
		    type: 'POST',
		    data: formData,
		    contentType: false,
		    processData: false,
		    success: function (returndata)
		    {
			bootbox.alert("Your Transaction is updated succesfully!!", function()
			{
			    
			});
		    }
		});
	    }
	}
	
    </script>
    
    <!-- Form Validation start -->
    
    <script type="text/javascript">
	   
	    $(document).ready(function()
	    {
		FormPlugins.init();
		$('.btn-add2').click(function()
		{
		    var $template = $('#optionTemplate2'),
		    $clone    = $template.clone().removeClass('hide').removeAttr('id').insertBefore($template);
		    $('#form_validation').bootstrapValidator('addField', $($clone).find('[name="userfile[]"]'))
		    removerow_file();
		});
		
		function removerow_file()
		{
		    $(".removeButton").on('click',function()
		    {
			var $row= $(this).parents('.odd_file');
			$row.remove();
		    }
		    );
		};
		
		$(document).ready(function()
		{
		    $('#form_validation').on('change', '[name="userfile[]"]', function()
		    {
			var $row=$(this).parents(".odd_file");  
			var imgpath=$(this).val();
			if (!imgpath=="")
			{
			    var size=this.files[0].size;
			    $row.find("input[name='file_description[]']").val(bytesToSize(size));
			}
		    });
		});
		
		$('#form_validation').bootstrapValidator
		({
		    message: 'This value is not valid',
		    container: 'tooltip',
		    feedbackIcons:
		    {
			valid: 'fa fa-check',
			invalid: 'fa fa-times',
			validating: 'fa fa-refresh'
		    },
		    
		    fields:
		    {
			MH_CUST_AC_DESC:
			{
			    validators:
			    {
				notEmpty:
				{
				    message: 'CUSTOMER NAME is required and can\'t be empty'
				}
			    }
			},
			
			MH_CONTACT_PERSON:
			{
			    validators:
			    {
				notEmpty:
				{
				    message: 'CONTACT PERSON is required and can\'t be empty'
				}
			    }
			},
			
			MH_ADD1:
			{
			    validators:
			    {
		                notEmpty:
				{
				    message: 'ADDRESS is required and can\'t be empty'
				}
			    }
			},
			
			MH_CT_CODE:
			{
			    validators:
			    {
		                notEmpty:
				{
				    message: 'CITY CODE is required and can\'t be empty'
				}
			    }
			},
			
			"userfile[]":
			{
			    group: 'td',
			    validators:
			    {
		                notEmpty:
				{
				    message: 'Image should be taken'
				}
			    }
			},
			
			MH_SALE_REF_TXN_CODE:
			{
			    validators:
			    {
				notEmpty:
				{
				    message: 'REFERENCE TRANSACTION CODE is required and can\'t be empty'
				}
			    }
			},
			
			MH_SALE_REF_TXN_NO:
			{
			    validators:
			    {
				notEmpty:
				{
				    message: 'REFERENCE TRANSACTION NUMBER is required and can\'t be empty'
				}
			    }
			},
			
			ML_BUILD:
			{
			    validators:
			    {
				notEmpty:
				{
				    message: 'BUILDING NAME is required and can\'t be empty'
				}
			    }
			},
			
			ML_FLOOR:
			{
			    validators:
			    {
				notEmpty:
				{
				    message: 'FLOOR NUMBER is required and can\'t be empty'
				}
			    }
			},
			
			ML_FLAT:
			{
			    validators:
			    {
				notEmpty:
				{
				    message: 'FLAT NUMBER is required and can\'t be empty'
				}
			    }
			},
			
			ML_UNIT:
			{
			    excluded: false,
			    validators:
			    {
				notEmpty:
				{
				    message: 'UNIT TYPE is required and can\'t be empty'
				}
			    }
			},
			ML_ROOM_NO:
			{
			    validators:
			    {
				notEmpty:
				{
				    message: 'Room NUMBER is required and can\'t be empty'
				}
			    }
			},
			
			ML_WINDOW_NO:
			{
			    validators:
			    {
				notEmpty:
				{
				    message: 'Window NUMBER is required and can\'t be empty'
				}
			    }
			},
			
			ML_PRODUCT_CODE:
			{
			    excluded: false,
			    validators:
			    {
				notEmpty:
				{
				    message: 'PRODUCT is required and can\'t be empty'
				}
			    }
			},
			
			ML_COLOR_CODE:
			{
			    excluded: false,
			    validators:
			    {
				notEmpty:
				{
				    message: 'COLOR CODE is required and can\'t be empty'
				}
			    }
			},
			
			ML_WIDTH:
			{
			    validators:
			    {
				notEmpty:
				{
				    message: 'WIDTH is required and can\'t be empty'
				},
				regexp:
				{
				    regexp: /^[0-9.]+$/,
				    message: 'WIDTH must be Numeric and Should be in a Format Like:999.99 only'
				},
				stringLength:
				{
				    min: 1,
				    max: 6,
				    message: 'WIDTH must be Numeric and Should be in a Format Like:999.99 only'
				},
				callback:
				{
				    message: 'Maximum Value is 999',
				    callback: function(value, validator)
				    {
					if (value <999.99)
					{
					    return true;
					}
					else
					return false;
				    }
				}
			    },
			},
			
			ML_HEIGHT:
			{
			    validators:
			    {
				notEmpty:
				{
				    message: 'HEIGHT is required and can\'t be empty'
				},
				regexp:
				{
				    regexp: /^[0-9.]+$/,
				    message: 'HEIGHT must be Numeric and Should be in a Format Like:999.99 only'
				},
				stringLength:
				{
				    min: 1,
				    max: 6,
				    message: 'HEIGHT must be Numeric and Should be in a Format Like:999.99 only'
				},
				callback:
				{
				    message: 'Maximum Value is 999',
				    callback: function(value, validator)
				    {
					if (value <999.99)
					{
					    return true;
					}
					else
					return false;
				    }
				}
			    },
			},
			
			ML_QTY:
			{
			    validators:
			    {
				notEmpty:
				{
				    message: 'QUANTITY is required and can\'t be empty'
				},
				regexp:
				{
				    regexp:  /^[1-9][0-9]*$/,
				    message: 'Minimum 1 and Maximum 999'
				},
				stringLength:
				{
				    min: 1,
				    max: 3,
				    message: 'Minimum 1 and Maximum 999'
				}
			    }
			},
			
			ML_MOUNT_TYPE:
			{
			    excluded: false,
			    validators:
			    {
				notEmpty:
				{
				    message: 'MOUNT TYPE is required and can\'t be empty'
				}
			    }
			},
			
			ML_MOUNT_ON:
			{
			    excluded: false,
			    validators:
			    {
				notEmpty:
				{
				    message: 'MOUNT ON is required and can\'t be empty'
				}
			    }
			},
			
			ML_OPERATE:
			{
			    excluded: false,
			    validators:
			    {
				notEmpty:
				{
				    message: 'OPERATION is required and can\'t be empty'
				}
			    }
			},
			
			ML_CONTROL:
			{
			    excluded: false,
			    validators:
			    {
				notEmpty:
				{
				    message: 'CONTROL is required and can\'t be empty'
				}
			    }
			},
			
			ML_OPENING:
			{
			    excluded: false,
			    validators:
			    {
				notEmpty:
				{
				    message: 'OPENING is required and can\'t be empty'
				}
			    }
			},
			
			ML_PELMET:
			{
			    excluded: false,
			    validators:
			    {
				notEmpty:
				{
				    message: 'PELMET is required and can\'t be empty'
				}
			    }
			},
			
			ML_PROJECTION:
			{
			    validators:
			    {
				notEmpty:
				{
				    message: 'PROJECTION is required and can\'t be empty'
				}
			    }
			},
			
			ML_FASICA:
			{
			    validators:
			    {
				notEmpty:
				{
				    message: 'FASICA is required and can\'t be empty'
				}
			    }
			},
			
			MH_TXN_CODE:
			{
			    validators:
			    {
				notEmpty:
				{
				    message: 'TRANSACTION CODE is required and can\'t be empty'
				}
			    }
			},
			
			MH_TXN_NO:
			{
			    validators:
			    {
				notEmpty:
				{
				    message: 'TRANSACTION NUMBER is required and can\'t be empty'
				}
			    }
			},
			
			MH_TXN_DT:
			{
			    trigger: 'focus blur',
			    validators:
			    {
				notEmpty:
				{
				    message: 'TRANSACTION DATE is required and can\'t be empty'
				}
			    }
			},
			
			ML_FULL_WIDTH:
			{
			    validators:
			    {
				notEmpty:
				{
				    message: 'FULL WIDTH is required and can\'t be empty'
				}
			    }
			},
			
			ML_FULL_HEIGHT:
			{
			    validators:
			    {
				notEmpty:
				{
				    message: 'FULL HEIGHT is required and can\'t be empty'
				}
			    }
			},
			
			ML_LEFT_WALL:
			{
			    validators:
			    {
				notEmpty:
				{
				    message: 'lEFT WALL is required and can\'t be empty'
				}
			    }
			},
			
			ML_RIGHT_WALL:
			{
			    validators:
			    {
				notEmpty:
				{
				    message: 'RIGHT WALL is required and can\'t be empty'
				}
			    }
			},
			ML_CEILING_UP:
			{
			    validators:
			    {
				notEmpty:
				{
				    message: 'CEILING UP is required and can\'t be empty'
				}
			    }
			},
			ML_FLOOR_DOWN:
			{
			    validators:
			    {
				notEmpty:
				{
				    message: 'FLOOR DOWN is required and can\'t be empty'
				}
			    }
			},
			
			ML_WINDOW_DEPTH:
			{
			    validators:
			    {
				notEmpty:
				{
				    message: 'WINDOW DEPTH is required and can\'t be empty'
				}
			    }
			},
			
			ML_WINDOW_OPENING:
			{
			    validators:
			    {
				notEmpty:
				{
				    message: 'WINDOW OPENING is required and can\'t be empty'
				}
			    }
			},
			
			ML_HANDLE_POSITION:
			{
			    validators:
			    {
				notEmpty:
				{
				    message: 'HANDLE POSITION is required and can\'t be empty'
				}
			    }
			},
			
			ML_HANDLE_SIZE:
			{
			    validators:
			    {
				notEmpty:
				{
				    message: 'HANDLE SIZE is required and can\'t be empty'
				}
			    }
			},
			
			ML_POWER_DISTANCE:
			{
			    validators:
			    {
				notEmpty:
				{
				    message: 'POWER DISTANCE is required and can\'t be empty'
				}
			    }
			},
			
			ML_GYPSUM_WIDTH:
			{
			    validators:
			    {
				notEmpty:
				{
				    message: 'GYPSUM WIDTH is required and can\'t be empty'
				}
			    }
			},
			
			ML_GYPSUM_HEIGHT:
			{
			    validators:
			    {
				notEmpty:
				{
				    message: 'GYPSUM HEIGHT is required and can\'t be empty'
				}
			    }
			},
			
			ML_GYPSUM_DEPTH:
			{
			    validators:
			    {
				notEmpty:
				{
				    message: 'GYPSUM DEPTH is required and can\'t be empty'
				}
			    }
			},
		    }
		});
		
	    });
	    
	    $('#wizard').bwizard
	    ({
		validating: function (e, ui)
		{
			
		    var numTabs= $('#form_validation').find('.tab-pane').length;
		    $('#form_validation').bootstrapValidator('validate');
		    var index=ui['index'];
		    isValidTab = validateTab(index);
		    if (!isValidTab)
		    {
			return false;
		    }
		    $('.selectpicker').selectpicker('refresh');
		    $('#form_validation').bootstrapValidator('updateStatus', 'ML_UNIT', 'NOT_VALIDATED');
		    $('#form_validation').bootstrapValidator('updateStatus', 'ML_PRODUCT_CODE', 'NOT_VALIDATED');
		    $('#form_validation').bootstrapValidator('updateStatus', 'ML_COLOR_CODE', 'NOT_VALIDATED');
		    $('#form_validation').bootstrapValidator('updateStatus', 'ML_MOUNT_TYPE', 'NOT_VALIDATED');
		    $('#form_validation').bootstrapValidator('updateStatus', 'ML_MOUNT_ON', 'NOT_VALIDATED');
		    $('#form_validation').bootstrapValidator('updateStatus', 'ML_OPERATE', 'NOT_VALIDATED');
		    $('#form_validation').bootstrapValidator('updateStatus', 'ML_CONTROL', 'NOT_VALIDATED');
		    $('#form_validation').bootstrapValidator('updateStatus', 'ML_OPENING', 'NOT_VALIDATED');
		    $('#form_validation').bootstrapValidator('updateStatus', 'ML_PELMET', 'NOT_VALIDATED');
		}
	    });
	   
	    function validateTab(index)
	    {
		var fv   = $('#form_validation').data('bootstrapValidator'),
		$tab = $('#form_validation').find('.tab-pane').eq(index);
		console.log($tab);
		var isValidStep = fv.isValidContainer($tab);
		if (isValidStep === false || isValidStep === null)
		{
		    return false;
		}
		return true;
	    }
	    
	    $('#defaultdate').datetimepicker
	    ({
		format: 'DD-MMM-YYYY',
	    });
	    
	    $('#defaultdate1').datetimepicker
	    ({
		format: 'DD-MMM-YYYY',
	    });
	    
	    $('#defaultdate2').datetimepicker
	    ({
		format: 'DD-MMM-YYYY',
	    });
	    
	    $('#defaultdate3').datetimepicker
	    ({
		format: 'DD-MMM-YYYY',
	    });
	    
	    $('#defaultdate4').datetimepicker
	    ({
		format: 'DD-MMM-YYYY',
	    });
	    
	    $('#defaultdate5').datetimepicker
	    ({
		format: 'DD-MMM-YYYY',
	    });
	    
	    $(document).ready(function()
	    {
		FormWizard.init();
	    });
	    
	</script>
    
    <!-- Form Validation end -->
  