<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8">
    <meta content="telephone=no" name="format-detection">
    <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
    <meta content=
    "user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi"
    name="viewport">
	
	<!-- ================== BEGIN BASE CSS STYLE ================== -->
	<link href="assets/plugins/jquery-ui/themes/base/minified/jquery-ui.min.css" rel="stylesheet" />
	<link href="assets/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
	<link href="assets/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet" />
	<link href="assets/css/animate.min.css" rel="stylesheet" />
	<link href="assets/css/style.min.css" rel="stylesheet" />
	<link href="assets/css/style-responsive.min.css" rel="stylesheet" />
	<link href="assets/css/theme/default.css" rel="stylesheet" id="theme" />
    <link href="assets/plugins/bootstrap-validation/css/bootstrapValidator.css" rel="stylesheet" />
	<!--<link href="assets/css/awesomplete.css" rel="stylesheet" />-->
	<!-- ================== END BASE CSS STYLE ================== -->
	
	<!-- ================== BEGIN PAGE LEVEL STYLE  wizard================== -->
	<link href="assets/plugins/bootstrap-wizard/css/bwizard.min.css" rel="stylesheet" />
	<!-- ================== END PAGE LEVEL STYLE ================== -->
 
	
	<!-- ================== START SELECT PICKER GO================== -->
	
	 <link rel="stylesheet" href="assets/selectpicker/css/bootstrap-select_table.css">
	 <script src="assets/selectpicker/js/bootstrap-select_table.js"></script>
	 
	<script src="assets/plugins/bootstrap-select/bootstrap-select1.min.js"></script>
	<!-- ================== END SELECT PICKER GO================== -->
	
	
	
	<!-- ================== BEGIN PAGE LEVEL STYLE Data tables================== -->
	<link href="assets/plugins/DataTables/css/data-table.css" rel="stylesheet" />
	<!-- ================== END PAGE LEVEL STYLE ================== -->
	
	<!-- ================== BEGIN PAGE LEVEL STYLE Form plugin================== -->
	<link href="assets/plugins/bootstrap-datetimepicker2/css/bootstrap-datetimepicker.css" rel="stylesheet" />
	<link href="assets/plugins/bootstrap-datepicker/css/datepicker.css" rel="stylesheet" />
	<link href="assets/plugins/bootstrap-datepicker/css/datepicker3.css" rel="stylesheet" />
	<link href="assets/plugins/ionRangeSlider/css/ion.rangeSlider.css" rel="stylesheet" />
	<link href="assets/plugins/ionRangeSlider/css/ion.rangeSlider.skinNice.css" rel="stylesheet" />
	<link href="assets/plugins/bootstrap-colorpicker/css/bootstrap-colorpicker.min.css" rel="stylesheet" />
	<link href="assets/plugins/bootstrap-timepicker/css/bootstrap-timepicker.min.css" rel="stylesheet" />
	<link href="assets/plugins/password-indicator/css/password-indicator.css" rel="stylesheet" />
	<link href="assets/plugins/bootstrap-combobox/css/bootstrap-combobox.css" rel="stylesheet" />
	<link href="assets/plugins/bootstrap-select/bootstrap-select.min.css" rel="stylesheet" />
	<link href="assets/plugins/bootstrap-tagsinput/bootstrap-tagsinput.css" rel="stylesheet" />
	<link href="assets/plugins/jquery-tag-it/css/jquery.tagit.css" rel="stylesheet" />
	<!-- ================== END PAGE LEVEL STYLE ================== -->

	<!-- ================== BEGIN PAGE LEVEL STYLE show or hide column================== -->
	<link href="assets/plugins/DataTables/css/data-table.css" rel="stylesheet" />
    <link href="assets/plugins/gritter/css/jquery.gritter.css" rel="stylesheet" />
	<!-- ================== END PAGE LEVEL STYLE ================== -->
	
	<!-- ================== Browse button custom================== -->
	<link href="assets/plugins/browse-button/filecss.css" rel="stylesheet" />
	<script src="js/jquery.min.js"></script>
	<script src="assets/plugins/browse-button/filejs.js"></script>
	<!-- ================== START PAGE LEVEL STYLE ================== -->
		
		<!-- ================== END WEBQR JS ================== -->
	<style>
	    .table_input{
		width: auto;
	    }
	    

	.btn-new {
	-moz-user-select: none;
	background-image: none;
	border: 1px solid transparent;
	border-radius: 4px;
	cursor: pointer;
	display: block;
	font-size: 14px;
	font-weight: 400;
	line-height: 1.42857;
	margin-bottom: 0;
	padding: 6px 12px;
	text-align:center;
	vertical-align: middle;
	white-space: nowrap;
	width: 85%;
	}
	
	.btn-new.btn-new-inverse {
	background: #2d353c none repeat scroll 0 0;
	border-color: #2d353c;
	color: #fff;
	}
	a:focus, a:hover {
        text-decoration: none;
	}
	</style>
	    
	
</head>
<body>
    <!-- begin #page-container -->
    <div id="page-container" class="fade in page-sidebar-fixed page-header-fixed">
        <!-- begin #header -->
        <div id="header" class="header navbar navbar-default navbar-fixed-top">
            <!-- begin container-fluid -->
            <div class="container-fluid">
                <!-- begin mobile sidebar expand / collapse button -->
                <div class="navbar-header">
                    <a href="" class="navbar-brand"><span class=""><img src="assets/img/mantis_logo.jpg" data-id="login-cover-image" alt="" /></span> </a>
                    <button type="button" class="navbar-toggle" data-click="sidebar-toggled">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
                <!-- end mobile sidebar expand / collapse button -->
                    
               
            </div>
            <!-- end container-fluid -->
        </div>
        <!-- end #header -->
        
        <!-- begin #sidebar -->
        <div id="sidebar" class="sidebar">
            <!-- begin sidebar scrollbar -->
            <div data-scrollbar="true" data-height="100%">
                <!-- begin sidebar user -->
                <ul class="nav">
                    <li class="nav-profile">
                        <div class="image">
                            <a href="javascript:;"><img src="" alt="" /></a>
                        </div>
                        <div class="info">
                            <!--<small>Front end developer</small>-->
                        </div>
                    </li>
                </ul>
                <!-- end sidebar user -->
                
                <!-- begin sidebar nav -->
				<ul class="nav">
					<li class="has-sub active">
						<a href="javascript:;">
							<b class="caret pull-right"></b>
							<i class="fa fa-truck text-warning"></i> 
							<span>Logistics</span>
						 </a>
						 <ul class="sub-menu">
							<li class="active"><a href="#">Schedule Tracking Dashboard</a></li>
							<li><a href="MeasurementTransaction_Add.html">Measurement Transaction </a></li>
							<li><a href="map.html">GPS</a></li>
						</ul>
					</li>
					<li class="has-sub"><a onclick="logout()"> <i class="fa fa-sign-out"></i><span>Log Out</span></a></li>
					<!-- begin sidebar minify button -->
					<li><a href="javascript:;" class="sidebar-minify-btn" data-click="sidebar-minify"><i class="fa fa-angle-double-left"></i></a></li>
					<!-- end sidebar minify button -->
				</ul>
                <!-- end sidebar nav -->
            </div>
            <!-- end sidebar scrollbar -->
        </div>
        <div class="sidebar-bg"></div>
	<!-- end #sidebar -->	
	    

	    <div class="content" id="content">
		<!-- begin row -->
		<div class="row">
		    <!-- begin col-10 -->
		    <div class="col-md-12">
			<!-- begin panel -->
			<div class="panel panel-inverse">
			    <div class="panel-heading">
				<div class="panel-heading-btn">
				    <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-default" data-click="panel-expand"><i class="fa fa-expand"></i></a>
				    <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-success" data-click="panel-reload"><i class="fa fa-repeat"></i></a>
				    <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-warning" data-click="panel-collapse"><i class="fa fa-minus"></i></a>
				</div>
				<h4 class="panel-title">Schedule Tracking Dashboard</h4>
			    </div>
			    <div class="panel-body">
				<div class="form-horizontal" id="form_validation" >
				    <div class="row">
					<!-- <div class="form-group">
						    <label class="col-md-4 control-label">Transaction Date</label>
						    <div class="col-md-8">
							 	<input type="text"  onblur="getJobByDate(this)" class="form-control datepicker-txn" name="LSH_TXN_DT" id="LSH_TXN_DT" value="" placeholder="APPOINTMENT DATE">
						    </div>
						</div>
						<div class="form-group hide">
						    <label class="col-md-4 control-label">Current Location</label>
						    <div class="col-md-8">
							<input type="text" class="form-control" name="CURRENT_LOCN_CODE" id="CURRENT_LOCN_CODE" value="CURRENT_LOCN_CODE" readonly>
						    </div>
						</div> -->
					    <div class="form-group">
						    <label class="col-md-4 control-label">Select jOB</label>
						    <div class="col-md-8" id="SelectVehicle">
						    	<select class="form-control selectpicker" onchange="getJobMeasurement(this);" name="LSH_SYS_ID" id="LSH_SYS_ID" data-live-search="true" data-style="btn-white"> 
									<option value="">Select</option>
									<option data-vehicle="LSH_VEHICLE_CODE" value="LSH_SYS_ID" ></option>
						    	</select>
						    </div>
						</div>
					    <div class="form-group">
							<label class="col-md-4 control-label">Vehicle Code</label>
							<div class="col-md-8">
							    <input type="text" class="form-control" name="LSH_VEHICLE_CODE" id="LSH_VEHICLE_CODE"  placeholder="VEHICLE CODE" readonly>
							</div>
					    </div>
					    <div class="form-group">
							<label class="col-md-4 control-label">Team Code</label>
							<div class="col-md-8">
							    <input type="text" class="form-control" name="LSH_TEAM_CODE" id="LSH_TEAM_CODE"  placeholder="TEAM CODE" readonly>
							</div>
					    </div>
					   
					<div class="col-md-4" id="testdata"></div>
					<div class="col-md-3">
					    <center><h5>Job Statistics </h5></center>
					    <table class="table table-striped table-bordered nowrap" width=100%>
						<tr>
						    <th>Total Jobs</th>
						    <td id="jobTotal">0</td>
						</tr>
						<tr>
						    <th>Completed</th>
						    <td id="jobCompleted">0</td>
						</tr>
						<tr>
						    <th>Rescheduled</th>
						    <td id="jobRescheduled">0</td>
						</tr>
						<tr>
						    <th>Closed</th>
						    <td id="jobClosed">0</td>
						</tr>
						<tr>
						    <th>Not Scheduled</th>
						    <td id="jobNotScheduled">0</td>
						</tr>
						<tr>
						    <th>Partialy Completed</th>
						    <td id="jobPartialyCompleted">0</td>
						</tr>
						<tr>
						    <th>Scheduled</th>
						    <td id="jobScheduled">0</td>
						</tr>
						<tr>
						    <th>Pending</th>
						    <td id="jobPending">0</td>
						</tr>
					    </table>
					</div>
				    </div>
				    
				</div>
				<div class="panel-body">
					<div class="table-responsive " id="RemoveResponsive">
						<!-- <table class="table table-striped table-bordered nowrap" id="dataRespTable" width="100%">
							<thead>
								<tr>
									<th>Transaction Code</th>
									<th>Transaction Number</th>
									<th>Transaction Date</th>
									<th>Customer Info</th>
									<th>City</th>
									<th>Requested By</th>
									<th>Job</th>
									<th>Distance</th>
									<th>Approx Time To Reach</th>
									<th>Job Status</th>
									<th>Action</th>
								</tr>
							</thead>
							<tbody id="ScheduledJobs">
							
							</tbody>
						</table> -->
					</div>
				</div>
			    </div>
			</div>
		    </div>
			<!-- end panel -->
		</div>
		    <!-- end col-10 -->
	    </div>
		<!-- end row -->
	    </div>
	    <!-- end #content -->
	    <!-- begin scroll to top btn -->
	    <a href="javascript:;" class="btn btn-icon btn-circle btn-success btn-scroll-to-top fade" data-click="scroll-top"><i class="fa fa-angle-up"></i></a>
	    <!-- end scroll to top btn -->
	    
	<!-- end page container -->
	
				<div class="modal fade" id="modal-dialog">
					<div class="modal-dialog">
						<div class="modal-content">
							<div class="modal-header">
						    	<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
						    	<div id="header_date"><h4> Response date</h4></div>
								<div class="modal-body">
								    <div class="panel-body">
										<div class="form-horizontal" id="Form_data" >
										    <div id="fancy_data">
												<input type="hidden" name="LSL_SYS_ID1" id="LSL_SYS_ID1">
											 	<div class="col-md-12">
												    <div class="form-group">
														<label class="col-md-5 control-label">Job Status</label>
														<div class="col-md-7" id="SelectJobStatus" >
															<select class="form-control selectpicker" name="LSL_JOB_STATUS" id="LSL_JOB_STATUS" data-live-search="true" data-style="btn-white">
															  	<option id="JobStatus" value="">Select</option>
																<option data-value="VSL_CODE" ></option>
															</select>
													    </div>
												    </div>
												    <div class="form-group">
														<label class="col-md-5 control-label">Description</label>
														<div class="col-md-7">
														    <input type="text" class="form-control" name="ct_desc" id="ct_desc"/>
														</div>
													    </div>
													   <div class="form-group">
														   <label class="col-md-5 control-label">Re Scheduled Reason</label>
														   <div class="col-md-7" id="SelectRescheduledReason"  >
																<select disabled class="form-control selectpicker" name="LSL_RE_SCH_REASON" id='LSL_RE_SCH_REASON' data-live-search="true" data-style="btn-white">
															    	<option id="Reschedule" value="">Select</option>
																	<option data-value="VSL_CODE" ></option>
																</select>
														    </div>
														</div> 
												    <div class="form-group">
														<label class="col-md-5 control-label">Rescheduled Date</label>
														<div class="col-md-7">
														    <input type="text" class="form-control input-group datepicker-txn" name="ct_longitude" id="ct_longitude"/>
														    
														</div>    
												    </div>
												    <div class="form-group">
														<div class="col-md-7">
														    <input type="submit" class="btn btn-sm btn-success" name="Update" value="Save">
														</div>    
												    </div>
												</div> 
										    </div>
										</div>
								    </div>
								</div>
								<div class="modal-footer">
							    	<a href="javascript:;" class="btn btn-sm btn-white" data-dismiss="modal">Close</a>
								</div>
						    </div>
						</div>
					</div>
				</div>
				
				
				<!-- Delivery Node model box start -->
				
				<div class="modal fade" id="modal-dia">
				    <div class="modal-dialog modal-lg">
						<div class="modal-content" id="close">
						    <div class="modal-header">
								<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
								<div id="header_date">
								    <h4>Response data</h4>
								</div>
						    </div>
						    <div class="modal-body">
								<form class="form-horizontal" id="Form_data" method="POST" enctype="multipart/form-data">
								    <div class="table-responsive" id="displaytable">
								    </div>
								</form>
						    </div>
						    <div class="modal-footer">
								<a class="btn btn-sm btn-success" type="button" id="approved_status" value="">Save</a>
								<a href="javascript:;" class="btn btn-sm btn-white" data-dismiss="modal">Close</a>
						    </div>
						 </div>
				    </div>
				</div>
				
				<!-- Delivery Node Model Box end -->
					
						<!-- ================== JS ================== -->
	
	<script type="text/javascript">
	
	var user_name = localStorage.getItem("user_id");
	if(user_name==null){
		window.open('index.html', '_blank','location=no');
	}
	
	function logout(){
		localStorage.clear();
		window.open('index.html', '_blank','location=no');
	}
	
	</script>
	
    <script type="text/javascript">
		$(document).ready(function() {
			App.init();
			getcurrentlatlong();
			getJobDate();
			
      		function getJobDate()
      		{
      			var currentDate = moment();
      			var $id = moment(currentDate).format('DD-MMM-YYYY');
      			var USER_ID = localStorage.getItem("user_id");
      			var USER_COMP_CODE = localStorage.getItem("USER_COMP_CODE");
  		        $.ajax
  			    ({
	  				type: "POST",                                
	  				url: "http://www.dev.sedarspine.com/en/spineLogisticsApp/getJobByDate",
	  				data: {id:$id,USER_ID:USER_ID,USER_COMP_CODE:USER_COMP_CODE},
	  				success: function (data)
	  				{
	  				    $("#SelectVehicle").html(data);
	  				    $('.selectpicker').selectpicker('refresh');
	  				}
  			    });    
      		} 
			
		});
	</script>
	
	<!-- =================== BEGIN CORDOVA JS ===================== -->
	
	
	<!-- =================== END CORDOVA JS ===================== -->
	
	  <!-- ================== BEGIN BASE JS ================== -->
	<script src="assets/plugins/jquery/jquery-1.9.1.min.js"></script>
	<script src="http://cdn.jagansindia.in/webrupee" type="text/javascript"></script>
	<script src="assets/plugins/jquery/jquery-migrate-1.1.0.min.js"></script>
	<script src="assets/plugins/jquery-ui/ui/minified/jquery-ui.min.js"></script>
	<script src="assets/plugins/bootstrap/js/bootstrap.min.js"></script>
        <script src="assets/plugins/bootstrap-validation/js/bootstrapValidator.js"></script>
	<!--Dashboard Start-->
	<script src="assets/js/dashboard.min.js"></script>
	<script src="assets/plugins/flot/jquery.flot.min.js"></script>
	<script src="assets/plugins/sparkline/jquery.sparkline.js"></script>
	<!--Dashboard End-->

	<script src="assets/plugins/slimscroll/jquery.slimscroll.min.js"></script>
	<script src="assets/plugins/jquery-cookie/jquery.cookie.js"></script>
        
	<!--====================== MOMENT JS INCLUDE START ===============-->
	<script src="assets/plugins/moment/moment.min.js"></script>
	<!--====================== MOMENT JS INCLUDE END ===============-->
	
	<!-- ================== START EXPORT================== -->
	<script type="text/javascript" src="assets/plugins/export/tableExport.js"></script>
    <script type="text/javascript" src="assets/plugins/export/jquery.base64.js"></script>
	<script type="text/javascript" src="assets/plugins/export/jspdf/libs/sprintf.js"></script>
	<script type="text/javascript" src="assets/plugins/export/jspdf/jspdf.js"></script>
	<script type="text/javascript" src="assets/plugins/export/jspdf/libs/base64.js"></script>
	<!-- ================== END EXPORT================== -->

	
	<!-- ================== END BASE JS ================== -->
	
	<!-- ================== BEGIN PAGE LEVEL JS Data tables================== -->
	
	
	<script src="assets/plugins/DataTables/js/jquery.dataTables.js"></script>
	<script src="assets/plugins/DataTables/js/dataTables.responsive.js"></script>
	<script src="assets/js/table-manage-responsive.demo.min.js"></script>
	
	
        <!-- ================== END PAGE LEVEL JS ================== -->
	
	<!-- ================== BEGIN PAGE LEVEL JS Form plugin================== -->
	<script src="assets/plugins/bootstrap-datetimepicker2/js/moment-with-locales.js"></script>
	<script src="assets/plugins/bootstrap-datetimepicker2/js/bootstrap-datetimepicker.min.js"></script>
	<script src="assets/plugins/ionRangeSlider/js/ion-rangeSlider/ion.rangeSlider.min.js"></script>
	<script src="assets/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.min.js"></script>
	<script src="assets/plugins/masked-input/masked-input.min.js"></script>
	<script src="assets/plugins/bootstrap-timepicker/js/bootstrap-timepicker.min.js"></script>
	<script src="assets/plugins/password-indicator/js/password-indicator.js"></script>
	<script src="assets/plugins/bootstrap-combobox/js/bootstrap-combobox.js"></script>
	<script src="assets/plugins/bootstrap-select/bootstrap-select.min.js"></script>
	<script src="assets/plugins/bootstrap-tagsinput/bootstrap-tagsinput.min.js"></script>
	<script src="assets/plugins/bootstrap-tagsinput/bootstrap-tagsinput-typeahead.js"></script>
	<script src="assets/plugins/jquery-tag-it/js/tag-it.min.js"></script>
	<script src="assets/js/form-plugins.demo.min.js"></script>
	<script src="assets/js/apps.min.js"></script>
	<!-- ================== END PAGE LEVEL JS ================== -->
	
	<!-- ================== BEGIN PAGE LEVEL JS hide column================== -->
	<script src="assets/plugins/DataTables/js/jquery.dataTables.js"></script>
	<script src="assets/plugins/DataTables/js/dataTables.autoFill.js"></script>
	<script src="assets/plugins/DataTables/js/dataTables.colVis.js"></script>
	<script src="assets/plugins/DataTables/js/dataTables.fixedHeader.js"></script>
	<script src="assets/plugins/DataTables/js/dataTables.keyTable.js"></script>
	<script src="assets/plugins/DataTables/js/dataTables.tableTools.js"></script>
	<script src="assets/js/table-manage-combine.demo.min.js"></script>
	<!-- ================== END PAGE LEVEL JS ================== -->
	
	
	<!-- ================== BEGIN PAGE LEVEL JS wizard ================== -->

	<script src="assets/plugins/bootstrap-wizard/js/bwizard.js"></script>
	<script src="assets/js/form-wizards.demo.min.js"></script>
	<script src="assets/js/apps.min.js"></script>
	<!-- ================== END PAGE LEVEL JS ================== -->
	
	<!-- ================== BEGIN PAGE LEVEL Currency Format ================== -->
	<script type="text/javascript" src="assets/js/jquery.formatCurrency-1.4.0.js"></script>
	<!-- ================== END PAGE LEVEL JS ================== -->
	
	<!-- ================== Begin formValidation packages================== -->
	<link href="assets/plugins/formValidation/css/formValidation.css" rel="stylesheet" />
	<script src="assets/plugins/formValidation/js/formValidation.js"></script>
	<script src="assets/plugins/formValidation/js/framework/bootstrap.min.js"></script>
	<!-- ================== End formValidation packages================== -->
	

		<!-- ================== BEGIN WEBQR JS ================== -->
			<script src="assets/js/bootbox.min.js"></script>
			<script type="text/javascript" src="assets/plugins/qrjs/llqrcode.js"></script>
			<script type="text/javascript" src="assets/plugins/qrjs/webqr.js"></script>
			<script type="text/javascript" src="assets/plugins/qrjs/plusone.js"></script>
		<!-- ================== END WEBQR JS ================== -->
		
		<!-- =================== BEGIN CORDOVA JS ===================== -->
	<!-- <script src="js/Schedule.js" type="text/javascript"></script> 
	-->
	<script src="cordova.js" type="text/javascript"></script>
	<script src="js/camera.js" type="text/javascript"></script>
	<script src="js/Server2Local.js" type="text/javascript"></script>
	
	<!-- =================== END CORDOVA JS ===================== -->
	
        <script type="text/javascript" src="http://maps.google.com/maps/api/js?v=3&sensor=false&language=en"></script>
        
        <script type="text/javascript">
        
            function getcurrentlatlong(){
                
                if (navigator.geolocation){
                  	//alert("navigator.geolocation is supported");
                  	navigator.geolocation.getCurrentPosition(onSuccess, onError, { enableHighAccuracy:true });
                }else{
                    //alert("navigator.geolocation not supported");
                }
            }
             
            function onSuccess(position) {
            	var lat=position.coords.latitude;
                var longi=position.coords.longitude;
                localStorage.setItem("lat", lat);
                localStorage.setItem("longi", longi);
                mapCenter = new google.maps.LatLng(lat, longi),
                alert(mapCenter);
                localStorage.setItem("CurrentLocation", mapCenter);
             
            }
             
            function onError(error){
                alert("Getting the error"+error.code + "\nerror mesg :" +error.message);
            }
          
   
        </script>
	
	<script type="text/javascript">
	
	/* Ajax Table Values start */
	/*  $(document).ready(function(){
		alert("Test");
		$.ajax({
    		url: 'Test.php',
		    type: 'POST',
		    data: {id:"Test"},
		    dataType: 'json',
		    success: function (json){
		    	alert("response");
		    	alert("res->"+json);
		    	//$("#Testing").html(res);
		    	
		    }
		});
		
	});  */
	
	/* $(document).ready(function(){
		alert("Ready to auto selected");
		var systemId =$("#LSH_SYS_ID").val();
		alert(systemId);
		localStorage.setItem("systemId", systemId);
		getJobMeasurementStatistics($this);
		var vehicleCode=$('option:selected', $this).attr("data-vehicle");
		alert(vehicleCode);
		localStorage.setItem("vehicleCode", vehicleCode);
		var USER_ID = localStorage.getItem("user_id");
		var USER_COMP_CODE = localStorage.getItem("USER_COMP_CODE");
		var vehicleCode = $('option:selected', $this).attr("data-vehicle");
		var teamCode = $('option:selected', $this).attr("data-team");
		alert(teamCode);
		$("#LSH_VEHICLE_CODE").val(vehicleCode);
		$("#LSH_TEAM_CODE").val(teamCode);
		$.ajax({
    		url: 'http://www.dev.sedarspine.com/en/spineLogisticsApp/getSchduleTrackingAjax',
		    type: 'POST',
		    data: {id:$id,vehicleCode:vehicleCode,USER_COMP_CODE:USER_COMP_CODE,USER_ID:USER_ID},
		    success: function (response)
		    {
				$("#RemoveResponsive").html(response);
				$('.selectpicker').selectpicker('refresh');
		    }
		});
		
		
		$.ajax({
			type: "POST",
			url: 'http://www.dev.sedarspine.com/en/spineLogisticsApp/getSchduleTrackingDataHead',
			data :{systemId:systemId},
			dataType:"json",
			async: false,
			success:function (json){
				var j=0;
				var ajaxlength = json.length;
				var db = window.openDatabase("Spine", "1.0", "Spine Demo", 100 * 1024 * 1024);
				db.transaction(function(tx){
					tx.executeSql('DROP TABLE IF EXISTS LOGI_T_SCHEDULE_HEAD');
					tx.executeSql('CREATE TABLE IF NOT EXISTS LOGI_T_SCHEDULE_HEAD (ID INTEGER PRIMARY KEY AUTOINCREMENT, LSH_SYS_ID INTEGER, LSH_COMP_CODE TEXT, LSH_LANG_CODE TEXT, LSH_TXN_CODE TEXT, LSH_TXN_NO TEXT, LSH_TXN_DT TEXT, LSH_DOC_REF TEXT, LSH_VEHICLE_CODE TEXT, LSH_TEAM_CODE TEXT, LSH_APPOINT_DT TEXT, LSH_DESC TEXT, LSH_STATUS TEXT, LSH_CR_DT TEXT, LSH_CR_UID TEXT, LSH_UPD_DT TEXT, LSH_UPD_UID TEXT, LSH_SEND_YN TEXT, LSH_SEND_DT TEXT, LSH_SEND_UID TEXT, LSH_APPROVE_YN TEXT, LSH_APPROVE_DT TEXT, LSH_APPROVE_UID TEXT, LSH_FLEX_01 TEXT, LSH_FLEX_02 TEXT, LSH_FLEX_03 TEXT, LSH_FLEX_04 TEXT, LSH_FLEX_05 TEXT, LSH_FLEX_06 TEXT, LSH_FLEX_07 TEXT, LSH_FLEX_08 TEXT, LSH_FLEX_09 TEXT, LSH_FLEX_10 TEXT, LSH_FLEX_11 TEXT, LSH_FLEX_12 TEXT, LSH_FLEX_13 TEXT, LSH_FLEX_14 TEXT, LSH_FLEX_15 TEXT, LSH_FLEX_16 TEXT, LSH_FLEX_17 TEXT, LSH_FLEX_18 TEXT, LSH_FLEX_19 TEXT, LSH_FLEX_20 TEXT, LSH_CITY_CODE TEXT, LSH_JOB_TOTAL INTEGER, LSH_JOB_COMPLETED INTEGER, LSH_JOB_RESCHEDULED INTEGER, LSH_JOB_CLOSED INTEGER, LSH_JOB_PENDING INTEGER) ');
					
					for (var i = 0; i < ajaxlength; i++) {
						tx.executeSql('INSERT OR REPLACE INTO LOGI_T_SCHEDULE_HEAD (LSH_SYS_ID, LSH_COMP_CODE, LSH_LANG_CODE, LSH_TXN_CODE, LSH_TXN_NO, LSH_TXN_DT, LSH_DOC_REF, LSH_VEHICLE_CODE, LSH_TEAM_CODE, LSH_APPOINT_DT, LSH_DESC, LSH_STATUS, LSH_CR_DT, LSH_CR_UID, LSH_UPD_DT, LSH_UPD_UID, LSH_SEND_YN, LSH_SEND_DT, LSH_SEND_UID, LSH_APPROVE_YN, LSH_APPROVE_DT, LSH_APPROVE_UID, LSH_FLEX_01, LSH_FLEX_02, LSH_FLEX_03, LSH_FLEX_04, LSH_FLEX_05, LSH_FLEX_06, LSH_FLEX_07, LSH_FLEX_08, LSH_FLEX_09, LSH_FLEX_10, LSH_FLEX_11, LSH_FLEX_12, LSH_FLEX_13, LSH_FLEX_14, LSH_FLEX_15, LSH_FLEX_16, LSH_FLEX_17, LSH_FLEX_18, LSH_FLEX_19, LSH_FLEX_20, LSH_CITY_CODE, LSH_JOB_TOTAL, LSH_JOB_COMPLETED, LSH_JOB_RESCHEDULED, LSH_JOB_CLOSED, LSH_JOB_PENDING) VALUES ("' + json[i].LSH_SYS_ID + '", "' + json[i].LSH_COMP_CODE + '", "' + json[i].LSH_LANG_CODE + '", "' + json[i].LSH_TXN_CODE + '", "' + json[i].LSH_TXN_NO + '", "' + json[i].LSH_TXN_DT + '", "' + json[i].LSH_DOC_REF + '", "' + json[i].LSH_VEHICLE_CODE + '", "' + json[i].LSH_TEAM_CODE + '", "' + json[i].LSH_APPOINT_DT + '", "' + json[i].LSH_DESC + '", "' + json[i].LSH_STATUS + '", "' + json[i].LSH_CR_DT + '", "' + json[i].LSH_CR_UID + '", "' + json[i].LSH_UPD_DT + '", "' + json[i].LSH_UPD_UID + '", "' + json[i].LSH_SEND_YN + '", "' + json[i].LSH_SEND_DT + '", "' + json[i].LSH_SEND_UID + '", "' + json[i].LSH_APPROVE_YN + '", "' + json[i].LSH_APPROVE_DT + '", "' + json[i].LSH_APPROVE_UID + '", "' + json[i].LSH_FLEX_01 + '", "' + json[i].LSH_FLEX_02 + '", "' + json[i].LSH_FLEX_03 + '", "' + json[i].LSH_FLEX_04 + '", "' + json[i].LSH_FLEX_05 + '", "' + json[i].LSH_FLEX_06 + '", "' + json[i].LSH_FLEX_07 + '", "' + json[i].LSH_FLEX_08 + '", "' + json[i].LSH_FLEX_09 + '", "' + json[i].LSH_FLEX_10 + '", "' + json[i].LSH_FLEX_11 + '", "' + json[i].LSH_FLEX_12 + '", "' + json[i].LSH_FLEX_13 + '", "' + json[i].LSH_FLEX_14 + '", "' + json[i].LSH_FLEX_15 + '", "' + json[i].LSH_FLEX_16 + '", "' + json[i].LSH_FLEX_17 + '", "' + json[i].LSH_FLEX_18 + '", "' + json[i].LSH_FLEX_19 + '", "' + json[i].LSH_FLEX_20 + '", "' + json[i].LSH_CITY_CODE + '", "' + json[i].LSH_JOB_TOTAL + '", "' + json[i].LSH_JOB_COMPLETED + '", "' + json[i].LSH_JOB_RESCHEDULED + '", "' + json[i].LSH_JOB_CLOSED + '", "' + json[i].LSH_JOB_PENDING + '")', successID);
						j++;
						if(j==ajaxlength){
							//alert('All Transaction Head data will be updated');
						}
						
					}
				});
			}

		});
		
		$.ajax({
			type: "POST",
			url: 'http://www.dev.sedarspine.com/en/spineLogisticsApp/getSchduleTrackingDataLines',
			data :{systemId:systemId},
			dataType:"json",
			async: false,
			success:function (json) {
				var j=0;
				var ajaxlength = json.length;
				localStorage.setItem("lineLength", ajaxlength);
				var db = window.openDatabase("Spine", "1.0", "Spine Demo", 100 * 1024 * 1024);
				db.transaction(function(tx){
					tx.executeSql('DROP TABLE IF EXISTS LOGI_T_SCHEDULE_LINES');
					tx.executeSql('CREATE TABLE IF NOT EXISTS LOGI_T_SCHEDULE_LINES (ID INTEGER PRIMARY KEY AUTOINCREMENT, LSL_SYS_ID INTEGER, LSL_LSH_SYS_ID INTEGER, LSL_COMP_CODE TEXT, LSL_LANG_CODE TEXT, LSL_TXN_DT TEXT, LSL_LINE TEXT, LSL_REF_SYS_ID TEXT, LSL_REF_TXN_TYPE TEXT, LSL_REF_TXN_CODE TEXT, LSL_REF_TXN_NO TEXT, LSL_REF_TXN_DT TEXT, LSL_LOCN_CODE TEXT, LSL_REQUESTED_BY TEXT, LSL_APPOINT_DT TEXT, LSL_CUST_AC_CODE TEXT, LSL_CUST_AC_DESC TEXT, LSL_ADD1 TEXT, LSL_ADD2 TEXT, LSL_ADD3 TEXT, LSL_ADD4 TEXT, LSL_CONTACT_PERSON TEXT, LSL_CONTACT_NO TEXT, LSL_CN_CODE TEXT, LSL_ST_CODE TEXT, LSL_CT_CODE TEXT, LSL_CT_AREA_CODE TEXT, LSL_POSTAL TEXT, LSL_MOBILE TEXT, LSL_PHONE TEXT, LSL_FAX TEXT, LSL_EMAIL TEXT, LSL_DESC TEXT, LSL_JOB_CODE TEXT, LSL_JOB_STATUS TEXT, LSL_RE_SCH_DT TEXT, LSL_RE_SCH_REASON TEXT, LSL_CR_DT TEXT, LSL_CR_UID TEXT, LSL_UPD_DT TEXT, LSL_UPD_UID TEXT, LSL_EX_REMARKS TEXT, LSL_EX_UID TEXT, LSL_EX_DT TEXT, LSL_FLEX_01 TEXT, LSL_FLEX_02 TEXT, LSL_FLEX_03 TEXT, LSL_FLEX_04 TEXT, LSL_FLEX_05 TEXT, LSL_FLEX_06 TEXT, LSL_FLEX_07 TEXT, LSL_FLEX_08 TEXT, LSL_FLEX_09 TEXT, LSL_FLEX_10 TEXT, LSL_FLEX_11 TEXT, LSL_FLEX_12 TEXT, LSL_FLEX_13 TEXT, LSL_FLEX_14 TEXT, LSL_FLEX_15 TEXT, LSL_FLEX_16 TEXT, LSL_FLEX_17 TEXT, LSL_FLEX_18 TEXT, LSL_FLEX_19 TEXT, LSL_FLEX_20 TEXT, LSL_SR_CODE TEXT) ');
					for (var i = 0; i < ajaxlength; i++){
						tx.executeSql('INSERT OR REPLACE INTO LOGI_T_SCHEDULE_LINES ( LSL_SYS_ID, LSL_LSH_SYS_ID, LSL_COMP_CODE, LSL_LANG_CODE, LSL_TXN_DT, LSL_LINE, LSL_REF_SYS_ID, LSL_REF_TXN_TYPE, LSL_REF_TXN_CODE, LSL_REF_TXN_NO, LSL_REF_TXN_DT, LSL_LOCN_CODE, LSL_REQUESTED_BY, LSL_APPOINT_DT, LSL_CUST_AC_CODE, LSL_CUST_AC_DESC, LSL_ADD1, LSL_ADD2, LSL_ADD3, LSL_ADD4 , LSL_CONTACT_PERSON, LSL_CONTACT_NO, LSL_CN_CODE, LSL_ST_CODE, LSL_CT_CODE, LSL_CT_AREA_CODE, LSL_POSTAL, LSL_MOBILE, LSL_PHONE, LSL_FAX, LSL_EMAIL, LSL_DESC, LSL_JOB_CODE, LSL_JOB_STATUS, LSL_RE_SCH_DT, LSL_RE_SCH_REASON, LSL_CR_DT, LSL_CR_UID, LSL_UPD_DT, LSL_UPD_UID, LSL_EX_REMARKS, LSL_EX_UID, LSL_EX_DT, LSL_FLEX_01, LSL_FLEX_02, LSL_FLEX_03, LSL_FLEX_04, LSL_FLEX_05, LSL_FLEX_06, LSL_FLEX_07, LSL_FLEX_08, LSL_FLEX_09, LSL_FLEX_10, LSL_FLEX_11, LSL_FLEX_12, LSL_FLEX_13, LSL_FLEX_14, LSL_FLEX_15, LSL_FLEX_16, LSL_FLEX_17, LSL_FLEX_18, LSL_FLEX_19, LSL_FLEX_20, LSL_SR_CODE) VALUES ("' + json[i].LSL_SYS_ID + '", "' + json[i].LSL_LSH_SYS_ID + '", "' + json[i].LSL_COMP_CODE + '", "' + json[i].LSL_LANG_CODE + '", "' + json[i].LSL_TXN_DT + '", "' + json[i].LSL_LINE + '", "' + json[i].LSL_REF_SYS_ID + '", "' + json[i].LSL_REF_TXN_TYPE + '", "' + json[i].LSL_REF_TXN_CODE + '", "' + json[i].LSL_REF_TXN_NO + '", "' + json[i].LSL_REF_TXN_DT + '", "' + json[i].LSL_LOCN_CODE + '", "' + json[i].LSL_REQUESTED_BY + '", "' + json[i].LSL_APPOINT_DT + '", "' + json[i].LSL_CUST_AC_CODE + '", "' + json[i].LSL_CUST_AC_DESC + '", "' + json[i].LSL_ADD1 + '", "' + json[i].LSL_ADD2 + '", "' + json[i].LSL_ADD3 + '", "' + json[i].LSL_ADD4 + '", "' + json[i].LSL_CONTACT_PERSON + '", "' + json[i].LSL_CONTACT_NO + '", "' + json[i].LSL_CN_CODE + '", "' + json[i].LSL_ST_CODE + '", "' + json[i].LSL_CT_CODE + '", "' + json[i].LSL_CT_AREA_CODE + '", "' + json[i].LSL_POSTAL + '", "' + json[i].LSL_MOBILE + '", "' + json[i].LSL_PHONE + '", "' + json[i].LSL_FAX + '", "' + json[i].LSL_EMAIL + '", "' + json[i].LSL_DESC + '", "' + json[i].LSL_JOB_CODE + '", "' + json[i].LSL_JOB_STATUS + '", "' + json[i].LSL_RE_SCH_DT + '", "' + json[i].LSL_RE_SCH_REASON + '", "' + json[i].LSL_CR_DT + '", "' + json[i].LSL_CR_UID + '", "' + json[i].LSL_UPD_DT + '", "' + json[i].LSL_UPD_UID + '", "' + json[i].LSL_EX_REMARKS + '", "' + json[i].LSL_EX_UID + '", "' + json[i].LSL_EX_DT + '", "' + json[i].LSL_FLEX_01 + '", "' + json[i].LSL_FLEX_02 + '", "' + json[i].LSL_FLEX_03 + '", "' + json[i].LSL_FLEX_04 + '", "' + json[i].LSL_FLEX_05 + '", "' + json[i].LSL_FLEX_06 + '", "' + json[i].LSL_FLEX_07 + '", "' + json[i].LSL_FLEX_08 + '", "' + json[i].LSL_FLEX_09 + '", "' + json[i].LSL_FLEX_10 + '", "' + json[i].LSL_FLEX_11 + '", "' + json[i].LSL_FLEX_12 + '", "' + json[i].LSL_FLEX_13 + '", "' + json[i].LSL_FLEX_14 + '", "' + json[i].LSL_FLEX_15 + '", "' + json[i].LSL_FLEX_16 + '", "' + json[i].LSL_FLEX_17 + '", "' + json[i].LSL_FLEX_18 + '", "' + json[i].LSL_FLEX_19 + '", "' + json[i].LSL_FLEX_20 + '", "' + json[i].LSL_SR_CODE + '")', successID);
						j++;
						if(j==ajaxlength){
							//alert('All Transaction Line data will be updated');
						}
						
					}
				});
			}

		});
		
		function successID(){
			return true;
		}
		
		
		
	}); */
	
	
	
	
	    function getJobMeasurement($this)
	    {
		
			getJobMeasurementStatistics($this);
			var systemId =$($this).val();
			localStorage.setItem("systemId", systemId);
			var vehicleCode=$('option:selected', $this).attr("data-vehicle");
			localStorage.setItem("vehicleCode", vehicleCode);
			var USER_ID = localStorage.getItem("user_id");
			var USER_COMP_CODE = localStorage.getItem("USER_COMP_CODE");
			var vehicleCode = $('option:selected', $this).attr("data-vehicle");
			var teamCode = $('option:selected', $this).attr("data-team");
			
			$("#LSH_VEHICLE_CODE").val(vehicleCode);
			$("#LSH_TEAM_CODE").val(teamCode);
			$.ajax({
	    		url: 'http://www.dev.sedarspine.com/en/spineLogisticsApp/getSchduleTrackingAjax',
			    type: 'POST',
			    data: {id:$id,vehicleCode:vehicleCode,USER_COMP_CODE:USER_COMP_CODE,USER_ID:USER_ID},
			    success: function (response)
			    {
					$("#RemoveResponsive").html(response);
					$('.selectpicker').selectpicker('refresh');
			    }
			});
			
			
			$.ajax({
				type: "POST",
				url: 'http://www.dev.sedarspine.com/en/spineLogisticsApp/getSchduleTrackingDataHead',
				data :{systemId:systemId},
				dataType:"json",
				async: false,
				success:function (json){
					var j=0;
					var ajaxlength = json.length;
					var db = window.openDatabase("Spine", "1.0", "Spine Demo", 100 * 1024 * 1024);
					db.transaction(function(tx){
						tx.executeSql('DROP TABLE IF EXISTS LOGI_T_SCHEDULE_HEAD');
						tx.executeSql('CREATE TABLE IF NOT EXISTS LOGI_T_SCHEDULE_HEAD (ID INTEGER PRIMARY KEY AUTOINCREMENT, LSH_SYS_ID INTEGER, LSH_COMP_CODE TEXT, LSH_LANG_CODE TEXT, LSH_TXN_CODE TEXT, LSH_TXN_NO TEXT, LSH_TXN_DT TEXT, LSH_DOC_REF TEXT, LSH_VEHICLE_CODE TEXT, LSH_TEAM_CODE TEXT, LSH_APPOINT_DT TEXT, LSH_DESC TEXT, LSH_STATUS TEXT, LSH_CR_DT TEXT, LSH_CR_UID TEXT, LSH_UPD_DT TEXT, LSH_UPD_UID TEXT, LSH_SEND_YN TEXT, LSH_SEND_DT TEXT, LSH_SEND_UID TEXT, LSH_APPROVE_YN TEXT, LSH_APPROVE_DT TEXT, LSH_APPROVE_UID TEXT, LSH_FLEX_01 TEXT, LSH_FLEX_02 TEXT, LSH_FLEX_03 TEXT, LSH_FLEX_04 TEXT, LSH_FLEX_05 TEXT, LSH_FLEX_06 TEXT, LSH_FLEX_07 TEXT, LSH_FLEX_08 TEXT, LSH_FLEX_09 TEXT, LSH_FLEX_10 TEXT, LSH_FLEX_11 TEXT, LSH_FLEX_12 TEXT, LSH_FLEX_13 TEXT, LSH_FLEX_14 TEXT, LSH_FLEX_15 TEXT, LSH_FLEX_16 TEXT, LSH_FLEX_17 TEXT, LSH_FLEX_18 TEXT, LSH_FLEX_19 TEXT, LSH_FLEX_20 TEXT, LSH_CITY_CODE TEXT, LSH_JOB_TOTAL INTEGER, LSH_JOB_COMPLETED INTEGER, LSH_JOB_RESCHEDULED INTEGER, LSH_JOB_CLOSED INTEGER, LSH_JOB_PENDING INTEGER) ');
						
						for (var i = 0; i < ajaxlength; i++) {
							tx.executeSql('INSERT OR REPLACE INTO LOGI_T_SCHEDULE_HEAD (LSH_SYS_ID, LSH_COMP_CODE, LSH_LANG_CODE, LSH_TXN_CODE, LSH_TXN_NO, LSH_TXN_DT, LSH_DOC_REF, LSH_VEHICLE_CODE, LSH_TEAM_CODE, LSH_APPOINT_DT, LSH_DESC, LSH_STATUS, LSH_CR_DT, LSH_CR_UID, LSH_UPD_DT, LSH_UPD_UID, LSH_SEND_YN, LSH_SEND_DT, LSH_SEND_UID, LSH_APPROVE_YN, LSH_APPROVE_DT, LSH_APPROVE_UID, LSH_FLEX_01, LSH_FLEX_02, LSH_FLEX_03, LSH_FLEX_04, LSH_FLEX_05, LSH_FLEX_06, LSH_FLEX_07, LSH_FLEX_08, LSH_FLEX_09, LSH_FLEX_10, LSH_FLEX_11, LSH_FLEX_12, LSH_FLEX_13, LSH_FLEX_14, LSH_FLEX_15, LSH_FLEX_16, LSH_FLEX_17, LSH_FLEX_18, LSH_FLEX_19, LSH_FLEX_20, LSH_CITY_CODE, LSH_JOB_TOTAL, LSH_JOB_COMPLETED, LSH_JOB_RESCHEDULED, LSH_JOB_CLOSED, LSH_JOB_PENDING) VALUES ("' + json[i].LSH_SYS_ID + '", "' + json[i].LSH_COMP_CODE + '", "' + json[i].LSH_LANG_CODE + '", "' + json[i].LSH_TXN_CODE + '", "' + json[i].LSH_TXN_NO + '", "' + json[i].LSH_TXN_DT + '", "' + json[i].LSH_DOC_REF + '", "' + json[i].LSH_VEHICLE_CODE + '", "' + json[i].LSH_TEAM_CODE + '", "' + json[i].LSH_APPOINT_DT + '", "' + json[i].LSH_DESC + '", "' + json[i].LSH_STATUS + '", "' + json[i].LSH_CR_DT + '", "' + json[i].LSH_CR_UID + '", "' + json[i].LSH_UPD_DT + '", "' + json[i].LSH_UPD_UID + '", "' + json[i].LSH_SEND_YN + '", "' + json[i].LSH_SEND_DT + '", "' + json[i].LSH_SEND_UID + '", "' + json[i].LSH_APPROVE_YN + '", "' + json[i].LSH_APPROVE_DT + '", "' + json[i].LSH_APPROVE_UID + '", "' + json[i].LSH_FLEX_01 + '", "' + json[i].LSH_FLEX_02 + '", "' + json[i].LSH_FLEX_03 + '", "' + json[i].LSH_FLEX_04 + '", "' + json[i].LSH_FLEX_05 + '", "' + json[i].LSH_FLEX_06 + '", "' + json[i].LSH_FLEX_07 + '", "' + json[i].LSH_FLEX_08 + '", "' + json[i].LSH_FLEX_09 + '", "' + json[i].LSH_FLEX_10 + '", "' + json[i].LSH_FLEX_11 + '", "' + json[i].LSH_FLEX_12 + '", "' + json[i].LSH_FLEX_13 + '", "' + json[i].LSH_FLEX_14 + '", "' + json[i].LSH_FLEX_15 + '", "' + json[i].LSH_FLEX_16 + '", "' + json[i].LSH_FLEX_17 + '", "' + json[i].LSH_FLEX_18 + '", "' + json[i].LSH_FLEX_19 + '", "' + json[i].LSH_FLEX_20 + '", "' + json[i].LSH_CITY_CODE + '", "' + json[i].LSH_JOB_TOTAL + '", "' + json[i].LSH_JOB_COMPLETED + '", "' + json[i].LSH_JOB_RESCHEDULED + '", "' + json[i].LSH_JOB_CLOSED + '", "' + json[i].LSH_JOB_PENDING + '")', successID);
							j++;
							if(j==ajaxlength){
								//alert('All Transaction Head data will be updated');
							}
							
						}
					});
				}
	
			});
			
			$.ajax({
				type: "POST",
				url: 'http://www.dev.sedarspine.com/en/spineLogisticsApp/getSchduleTrackingDataLines',
				data :{systemId:systemId},
				dataType:"json",
				async: false,
				success:function (json) {
					var j=0;
					var ajaxlength = json.length;
					localStorage.setItem("lineLength", ajaxlength);
					var db = window.openDatabase("Spine", "1.0", "Spine Demo", 100 * 1024 * 1024);
					db.transaction(function(tx){
						tx.executeSql('DROP TABLE IF EXISTS LOGI_T_SCHEDULE_LINES');
						tx.executeSql('CREATE TABLE IF NOT EXISTS LOGI_T_SCHEDULE_LINES (ID INTEGER PRIMARY KEY AUTOINCREMENT, LSL_SYS_ID INTEGER, LSL_LSH_SYS_ID INTEGER, LSL_COMP_CODE TEXT, LSL_LANG_CODE TEXT, LSL_TXN_DT TEXT, LSL_LINE TEXT, LSL_REF_SYS_ID TEXT, LSL_REF_TXN_TYPE TEXT, LSL_REF_TXN_CODE TEXT, LSL_REF_TXN_NO TEXT, LSL_REF_TXN_DT TEXT, LSL_LOCN_CODE TEXT, LSL_REQUESTED_BY TEXT, LSL_APPOINT_DT TEXT, LSL_CUST_AC_CODE TEXT, LSL_CUST_AC_DESC TEXT, LSL_ADD1 TEXT, LSL_ADD2 TEXT, LSL_ADD3 TEXT, LSL_ADD4 TEXT, LSL_CONTACT_PERSON TEXT, LSL_CONTACT_NO TEXT, LSL_CN_CODE TEXT, LSL_ST_CODE TEXT, LSL_CT_CODE TEXT, LSL_CT_AREA_CODE TEXT, LSL_POSTAL TEXT, LSL_MOBILE TEXT, LSL_PHONE TEXT, LSL_FAX TEXT, LSL_EMAIL TEXT, LSL_DESC TEXT, LSL_JOB_CODE TEXT, LSL_JOB_STATUS TEXT, LSL_RE_SCH_DT TEXT, LSL_RE_SCH_REASON TEXT, LSL_CR_DT TEXT, LSL_CR_UID TEXT, LSL_UPD_DT TEXT, LSL_UPD_UID TEXT, LSL_EX_REMARKS TEXT, LSL_EX_UID TEXT, LSL_EX_DT TEXT, LSL_FLEX_01 TEXT, LSL_FLEX_02 TEXT, LSL_FLEX_03 TEXT, LSL_FLEX_04 TEXT, LSL_FLEX_05 TEXT, LSL_FLEX_06 TEXT, LSL_FLEX_07 TEXT, LSL_FLEX_08 TEXT, LSL_FLEX_09 TEXT, LSL_FLEX_10 TEXT, LSL_FLEX_11 TEXT, LSL_FLEX_12 TEXT, LSL_FLEX_13 TEXT, LSL_FLEX_14 TEXT, LSL_FLEX_15 TEXT, LSL_FLEX_16 TEXT, LSL_FLEX_17 TEXT, LSL_FLEX_18 TEXT, LSL_FLEX_19 TEXT, LSL_FLEX_20 TEXT, LSL_SR_CODE TEXT) ');
						for (var i = 0; i < ajaxlength; i++){
							tx.executeSql('INSERT OR REPLACE INTO LOGI_T_SCHEDULE_LINES ( LSL_SYS_ID, LSL_LSH_SYS_ID, LSL_COMP_CODE, LSL_LANG_CODE, LSL_TXN_DT, LSL_LINE, LSL_REF_SYS_ID, LSL_REF_TXN_TYPE, LSL_REF_TXN_CODE, LSL_REF_TXN_NO, LSL_REF_TXN_DT, LSL_LOCN_CODE, LSL_REQUESTED_BY, LSL_APPOINT_DT, LSL_CUST_AC_CODE, LSL_CUST_AC_DESC, LSL_ADD1, LSL_ADD2, LSL_ADD3, LSL_ADD4 , LSL_CONTACT_PERSON, LSL_CONTACT_NO, LSL_CN_CODE, LSL_ST_CODE, LSL_CT_CODE, LSL_CT_AREA_CODE, LSL_POSTAL, LSL_MOBILE, LSL_PHONE, LSL_FAX, LSL_EMAIL, LSL_DESC, LSL_JOB_CODE, LSL_JOB_STATUS, LSL_RE_SCH_DT, LSL_RE_SCH_REASON, LSL_CR_DT, LSL_CR_UID, LSL_UPD_DT, LSL_UPD_UID, LSL_EX_REMARKS, LSL_EX_UID, LSL_EX_DT, LSL_FLEX_01, LSL_FLEX_02, LSL_FLEX_03, LSL_FLEX_04, LSL_FLEX_05, LSL_FLEX_06, LSL_FLEX_07, LSL_FLEX_08, LSL_FLEX_09, LSL_FLEX_10, LSL_FLEX_11, LSL_FLEX_12, LSL_FLEX_13, LSL_FLEX_14, LSL_FLEX_15, LSL_FLEX_16, LSL_FLEX_17, LSL_FLEX_18, LSL_FLEX_19, LSL_FLEX_20, LSL_SR_CODE) VALUES ("' + json[i].LSL_SYS_ID + '", "' + json[i].LSL_LSH_SYS_ID + '", "' + json[i].LSL_COMP_CODE + '", "' + json[i].LSL_LANG_CODE + '", "' + json[i].LSL_TXN_DT + '", "' + json[i].LSL_LINE + '", "' + json[i].LSL_REF_SYS_ID + '", "' + json[i].LSL_REF_TXN_TYPE + '", "' + json[i].LSL_REF_TXN_CODE + '", "' + json[i].LSL_REF_TXN_NO + '", "' + json[i].LSL_REF_TXN_DT + '", "' + json[i].LSL_LOCN_CODE + '", "' + json[i].LSL_REQUESTED_BY + '", "' + json[i].LSL_APPOINT_DT + '", "' + json[i].LSL_CUST_AC_CODE + '", "' + json[i].LSL_CUST_AC_DESC + '", "' + json[i].LSL_ADD1 + '", "' + json[i].LSL_ADD2 + '", "' + json[i].LSL_ADD3 + '", "' + json[i].LSL_ADD4 + '", "' + json[i].LSL_CONTACT_PERSON + '", "' + json[i].LSL_CONTACT_NO + '", "' + json[i].LSL_CN_CODE + '", "' + json[i].LSL_ST_CODE + '", "' + json[i].LSL_CT_CODE + '", "' + json[i].LSL_CT_AREA_CODE + '", "' + json[i].LSL_POSTAL + '", "' + json[i].LSL_MOBILE + '", "' + json[i].LSL_PHONE + '", "' + json[i].LSL_FAX + '", "' + json[i].LSL_EMAIL + '", "' + json[i].LSL_DESC + '", "' + json[i].LSL_JOB_CODE + '", "' + json[i].LSL_JOB_STATUS + '", "' + json[i].LSL_RE_SCH_DT + '", "' + json[i].LSL_RE_SCH_REASON + '", "' + json[i].LSL_CR_DT + '", "' + json[i].LSL_CR_UID + '", "' + json[i].LSL_UPD_DT + '", "' + json[i].LSL_UPD_UID + '", "' + json[i].LSL_EX_REMARKS + '", "' + json[i].LSL_EX_UID + '", "' + json[i].LSL_EX_DT + '", "' + json[i].LSL_FLEX_01 + '", "' + json[i].LSL_FLEX_02 + '", "' + json[i].LSL_FLEX_03 + '", "' + json[i].LSL_FLEX_04 + '", "' + json[i].LSL_FLEX_05 + '", "' + json[i].LSL_FLEX_06 + '", "' + json[i].LSL_FLEX_07 + '", "' + json[i].LSL_FLEX_08 + '", "' + json[i].LSL_FLEX_09 + '", "' + json[i].LSL_FLEX_10 + '", "' + json[i].LSL_FLEX_11 + '", "' + json[i].LSL_FLEX_12 + '", "' + json[i].LSL_FLEX_13 + '", "' + json[i].LSL_FLEX_14 + '", "' + json[i].LSL_FLEX_15 + '", "' + json[i].LSL_FLEX_16 + '", "' + json[i].LSL_FLEX_17 + '", "' + json[i].LSL_FLEX_18 + '", "' + json[i].LSL_FLEX_19 + '", "' + json[i].LSL_FLEX_20 + '", "' + json[i].LSL_SR_CODE + '")', successID);
							j++;
							if(j==ajaxlength){
								//alert('All Transaction Line data will be updated');
							}
							
						}
					});
				}
	
			});
			
			function successID(){
				return true;
			}
			
	    } 
	      	    
		
	    function getJobMeasurementStatistics($this)
	    {
			$id=$($this).val();
			var USER_ID = localStorage.getItem("user_id");
			var USER_COMP_CODE = localStorage.getItem("USER_COMP_CODE");
			$.ajax
			({
				url: 'http://www.dev.sedarspine.com/en/LogiCtr/getJobMeasurementStatistics12',
				type: 'POST',
				data: {id:$id,USER_ID:USER_ID,USER_COMP_CODE:USER_COMP_CODE},
				dataType:"json",
				success: function (json)
				{
				    $("#jobCompleted").text(json.job_Completed);
				    $("#jobTotal").text(json.total_jobs);
				    $("#jobRescheduled").text(json.jobtobe_Rescheduled);
				    $("#jobPending").text(json.jobtobe_pending);
				    $("#jobNotScheduled").text(json.NotScheduled);
				    $("#jobPartialyCompleted").text(json.PartComplete);
				    $("#jobScheduled").text(json.Scheduled);
				    $("#jobClosed").text(json.jobtobe_closed);
				},error: function (xhr, ajaxOptions, thrownError) {
					alert(xhr);alert(ajaxOptions);alert(thrownError);
		    	
		    	} 
			});
	    } 
	    
	    /* Ajax Table Values end */
	    
	    function Geolocation($Area,$City)
	    {
	    	GetGeolocation($Area,$City);
	    }
	</script>
	
	<script type="text/javascript">
		
		function GetGeolocation($Area,$City)
		{
			var $distanceTime;
		    var Area=$Area;
		    var City=$City;
		    var lat1 = localStorage.getItem("lat");
		    var long1 = localStorage.getItem("longi");
		    $.ajax
		    ({
				dataType:"json",
				type: "POST", 
				async: false,
				url: "http://www.dev.sedarspine.com/en/LogiCtr/GetDrivingDistance",
				data:{Area:Area,City:City,lat1:lat1,long1:long1} ,
				success: function (data){
					//alert("dis"+data.distance);
				    //alert("time"+data.time);
				    $distanceTime = {distance:data.distance,time:data.time};
				    //alert($distanceTime);
				}
		    });
		    //alert('Distance returning function'+$distanceTime);
		  return $distanceTime;
		}
		
		$("#LSH_TXN_DT").focus(function () {
			
            $oldTxnDate = $(this).val();
	    });	
		
		function getJobByDate($this)
		{
			
		    var $id=$($this).val();
		    if($id!=$oldTxnDate){
	    	
			  //  $("#ScheduledJobs").html(" ");
			    $("#jobCompleted").text("0");
			    $("#jobTotal").text("0");
			    $("#jobRescheduled").text("0");
			    $("#jobPending").text("0");
			    $("#jobNotScheduled").text("0");
			    $("#jobPartialyCompleted").text("0");
			    $("#jobScheduled").text("0");
			    $("#jobClosed").text("0");
			    $('.selectpicker').selectpicker('refresh');
			    $("#LSH_VEHICLE_CODE").val("");
			   
			     $.ajax
			    ({
				
				type: "POST",                                
				url: "http://www.dev.sedarspine.com/en/LogiCtr/getJobByDate",
				data: {id:$id},
				success: function (data)
				{
				 
				    $("#SelectVehicle").html(data);
				    $('.selectpicker').selectpicker('refresh');
				},
			    });
			}		    
		}
		
	</script>	
	
		<!-- Append Table action start -->
	<script type="text/javascript">
	
	    function updates(LSL_SYS_ID)
	    {
	    	refresh();
			var sys_id = LSL_SYS_ID.toString();
			var USER_COMP_CODE = localStorage.getItem("USER_COMP_CODE");
			alert(sys_id);
			$.ajax
			({
			    type: "POST",
			    url: "http://www.dev.sedarspine.com/en/spineLogisticsApp/ajaxUpdateSTD12",
			    data:{sys_id:sys_id,USER_COMP_CODE:USER_COMP_CODE},
			    success: function (responseData1)
			    {
			    	refresh();
			    	$('#fancy_data').html(responseData1);
					$('.selectpicker').selectpicker('refresh');
					$('#Form_data').bootstrapValidator('addField','LSL_RE_SCH_REASON');
					$('#Form_data').bootstrapValidator('addField','LSL_JOB_STATUS');
					$('#Form_data').bootstrapValidator('addField','LSL_RE_SCH_DT');
					$('#Form_data').bootstrapValidator('addField','LSL_EX_REMARKS');
					refresh();
			    },
			});
	    }
	    
		function Gps_Location(LSL_SYS_ID)
	    {
			var sys_code = LSL_SYS_ID.toString();
	        //alert("code-"+sys_code);
	        localStorage.setItem("sys_code", sys_code);
	        window.open('map.html', '_blank','location=no'); 
	    }
		
		function mesurementTransaction_add(LSL_SYS_ID) 
	    {
			var mesurementTransaction_add = LSL_SYS_ID.toString();
	        alert("values-"+mesurementTransaction_add);
	        localStorage.setItem("mesurementTransaction_id", mesurementTransaction_add);
	     	window.open('MeasurementTransaction_Add.html', '_blank','location=no'); 
	    }
		
		function getRefSysId(refSysId,lslSysId)
	    {
			var refSysId=refSysId;
			var USER_COMP_CODE = localStorage.getItem("USER_COMP_CODE");
			var lslSysId = $('#lslSysId').val(lslSysId);
			$.ajax
			({
			    type: "POST",
			    url: "http://www.dev.sedarspine.com/en/spineLogisticsApp/getSALE_T_DN_LINES",
			    data:{lslRefSysId:refSysId,USER_COMP_CODE:USER_COMP_CODE},
			    success: function (response)
			    {
			    	alert(response);
					$("#displaytable").html(response);
			    },error: function (xhr, ajaxOptions, thrownError) {
					alert(xhr);alert(ajaxOptions);alert(thrownError);
		    	} 
			}); 
	    }
		
		function updateJobTimeStart(dlSysId,$this)
	    {
			var dlsystemId = dlSysId;
			var lslSystemId = $('#lslSysId').val();
			var startStop="START";
			$.ajax
			({
			    type: "POST",
			    dataType:"json",
			    url: "http://www.dev.sedarspine.com/en/LogiCtr/updateJobStartStop",
			    data:{dlsystemId:dlsystemId,lslSystemId:lslSystemId,startStop:startStop},
			    success: function ()
			    {
				
			    },
			});
	    }
	    
	    function updateJobTimeStop(dlSysId,$this)
	    {
			var dlsystemId = dlSysId;
			var lslSystemId = $('#lslSysId').val();
			var startStop="STOP";
			$.ajax
			({
			    type: "POST",
			    dataType:"json",
			    url: "http://www.dev.sedarspine.com/en/LogiCtr/updateJobStartStop",
			    data:{dlsystemId:dlsystemId,lslSystemId:lslSystemId,startStop:startStop},
			    success: function (json)
			    {
				if (json['status']=="Success")
				{
				    $($this).parent('td').html("<button class='btn btn-danger disabled'>Completed</button>")
				}else if (json['status']=="Error")
				{
				    alert(json['status']);
				}
			    },
			});
	    }
	    
	    function startBtnCondition($this)
	    {
			$('.start').prop('disabled', true);
			$('.end').prop('disabled', true);
			var $row=$this.parents('.odd');
			$row.find('[name="endCount"]').prop('disabled', false);
	    }
	    
	    function endBtnCondition($this)
	    {
			$('.start').prop('disabled', false);
			$('.end').prop('disabled', false);
			var $row=$this.parents('.odd');
			$row.find('[name="startCount"]').prop('disabled', true);
			$row.find('[name="endCount"]').prop('disabled', true);
	    }
		
	</script>
	<!-- Append Table action end -->
	
	<!-- Response Model Box Form Submit start -->
	<script type="text/javascript">
	$("form#Form_data").submit(function(event)
		    {
			event.preventDefault();
			var formData = new FormData($(this)[0]);
			$.ajax
			({
			    url: 'http://www.dev.sedarspine.com/en/LogiCtr/LogisticsDashboard_Update',
			    type: 'POST',
			    data: formData,
			    dataType: "json",
			    async: false,
			    cache: false,
			    contentType: false,
			    processData: false,
			    success: function (json)
			    {
				getJobMeasurementStatisticsUpdate();
				if (json.status!="")
				{
				    $('#status_message').val(json.status);
				}
				else
				{
				    $('#status_error_message').val(json.error);
				}
			    }
			});
			$('#modal-dialog').modal('hide');
			//getJobMeasurementAjax();
		    });
	</script>
	<!-- Response Model Box Form Submit ends -->
	
	<script type="text/javascript">
	    
		$("#Form_data").submit(function(event){
			
		 //   alert("onclick to view");

			var LSL_SYS_ID = $("input[name=LSL_SYS_ID]").val();
			var LSL_LSH_SYS_ID = $("input[name=LSL_LSH_SYS_ID]").val();
			var USER_COMP_CODE = "001"
			var LSL_TXN_DT = $("input[name=LSL_TXN_DT]").val();
			var LSL_LINE = $("input[name=LSL_LINE]").val();
			var LSL_REF_SYS_ID = $("input[name=LSL_REF_SYS_ID]").val();
			var LSL_REF_TXN_TYPE = $("input[name=LSL_REF_TXN_TYPE]").val();
			var LSL_REF_TXN_CODE = $("input[name=LSL_REF_TXN_CODE]").val();
			var LSL_REF_TXN_NO = $("input[name=LSL_REF_TXN_NO]").val();
			var LSL_REF_TXN_DT = $("input[name=LSL_REF_TXN_DT]").val();
			var LSL_LOCN_CODE = $("input[name=LSL_LOCN_CODE]").val();
			var LSL_REQUESTED_BY = $("input[name=LSL_REQUESTED_BY]").val();
			var LSL_APPOINT_DT = $("input[name=LSL_APPOINT_DT]").val();
			var LSL_CUST_AC_CODE = $("input[name=LSL_CUST_AC_CODE]").val();
			var LSL_CUST_AC_DESC = $("input[name=LSL_CUST_AC_DESC]").val();
			var LSL_ADD1 = $("input[name=LSL_ADD1]").val();
			var LSL_ADD2 = $("input[name=LSL_ADD2]").val();
			var LSL_ADD3 = $("input[name=LSL_ADD3]").val();
			var LSL_ADD4 = $("input[name=LSL_ADD4]").val();
			var LSL_CONTACT_PERSON = $("input[name=LSL_CONTACT_PERSON]").val();
			var LSL_CONTACT_NO = $("input[name=LSL_CONTACT_NO]").val();
			var LSL_CN_CODE = $("input[name=LSL_CN_CODE]").val();
			var LSL_ST_CODE = $("input[name=LSL_ST_CODE]").val();
			var LSL_CT_CODE = $("input[name=LSL_CT_CODE]").val();
			var LSL_CT_AREA_CODE = $("input[name=LSL_CT_AREA_CODE]").val();
			var LSL_POSTAL = $("input[name=LSL_POSTAL]").val();
			var LSL_MOBILE = $("input[name=LSL_MOBILE]").val();
			var LSL_PHONE = $("input[name=LSL_PHONE]").val();
			var LSL_FAX = $("input[name=LSL_FAX]").val();
			var LSL_EMAIL = $("input[name=LSL_EMAIL]").val();
			var LSL_DESC = $("input[name=LSL_DESC]").val();
			var LSL_JOB_CODE = $("input[name=LSL_JOB_CODE]").val();
			var LSL_JOB_STATUS = document.getElementById("LSL_JOB_STATUS").value;
			var LSL_RE_SCH_DT = $("input[name=LSL_RE_SCH_DT]").val();
			var LSL_RE_SCH_REASON = document.getElementById("LSL_RE_SCH_REASON").value;
			var LSL_EX_REMARKS = $("input[name=LSL_EX_REMARKS]").val();
			var LSL_EX_UID = $("input[name=LSL_EX_UID]").val();
			var LSL_EX_DT = $("input[name=LSL_EX_DT]").val();
			var USER_ID = localStorage.getItem("user_id");
			
		
			
			$.ajax
			({
			    url: 'http://www.dev.sedarspine.com/en/spineLogisticsApp/LogisticsDashboard_Update',
			    type: 'POST',
			    data: {LSL_SYS_ID:LSL_SYS_ID,LSL_LSH_SYS_ID:LSL_LSH_SYS_ID,LSL_TXN_DT:LSL_TXN_DT,LSL_LINE:LSL_LINE,LSL_REF_SYS_ID:LSL_REF_SYS_ID,LSL_REF_TXN_TYPE:LSL_REF_TXN_TYPE,LSL_REF_TXN_CODE:LSL_REF_TXN_CODE,LSL_REF_TXN_NO:LSL_REF_TXN_NO,LSL_REF_TXN_DT:LSL_REF_TXN_DT,LSL_LOCN_CODE:LSL_LOCN_CODE,LSL_REQUESTED_BY:LSL_REQUESTED_BY,LSL_APPOINT_DT:LSL_APPOINT_DT,LSL_CUST_AC_CODE:LSL_CUST_AC_CODE,LSL_CUST_AC_DESC:LSL_CUST_AC_DESC,LSL_ADD1:LSL_ADD1,LSL_ADD2:LSL_ADD2,LSL_ADD3:LSL_ADD3,LSL_ADD4:LSL_ADD4,LSL_CONTACT_PERSON:LSL_CONTACT_PERSON,LSL_CONTACT_NO:LSL_CONTACT_NO,LSL_CN_CODE:LSL_CN_CODE,LSL_ST_CODE:LSL_ST_CODE,LSL_CT_CODE:LSL_CT_CODE,LSL_CT_AREA_CODE:LSL_CT_AREA_CODE,LSL_POSTAL:LSL_POSTAL,LSL_MOBILE:LSL_MOBILE,LSL_PHONE:LSL_PHONE,LSL_FAX:LSL_FAX,LSL_EMAIL:LSL_EMAIL,LSL_DESC:LSL_DESC,LSL_JOB_CODE:LSL_JOB_CODE,LSL_EX_UID:LSL_EX_UID,LSL_EX_DT:LSL_EX_DT,LSL_JOB_STATUS:LSL_JOB_STATUS,LSL_EX_REMARKS:LSL_EX_REMARKS,LSL_RE_SCH_REASON:LSL_RE_SCH_REASON,LSL_RE_SCH_DT:LSL_RE_SCH_DT,USER_COMP_CODE:USER_COMP_CODE,USER_ID:USER_ID},
			    dataType: "json",
			    success: function (json)
			    {	
				if (json.status!="")
					{
					  //alert("Success");
					}	
			    }
			});
			$('#modal-dialog').modal('hide');	
			getJobMeasurement12();
	    });
		
		
		function getJobMeasurementStatisticsUpdate()
	    {
			
			//alert("Measurement");
			$.ajax
			({
			    url: 'http://www.dev.sedarspine.com/en/LogiCtr/getJobMeasurementStatistics',
			    type: 'POST',
			    data: {id:$id},
			    dataType:"json",
			    success: function (json)
			    {
				//alert(json.job_Completed);
				$("#jobCompleted").empty();
				$("#jobCompleted").text(json.job_Completed);
				$("#jobTotal").empty();
				$("#jobTotal").text(json.total_jobs);
				$("#jobRescheduled").empty();
				$("#jobRescheduled").text(json.jobtobe_Rescheduled);
				$("#jobPending").empty();
				$("#jobPending").text(json.jobtobe_pending);
				$("#jobNotScheduled").empty();
				$("#jobNotScheduled").text(json.NotScheduled);
				$("#jobPartialyCompleted").empty();
				$("#jobPartialyCompleted").text(json.PartComplete);
				$("#jobScheduled").empty();
				$("#jobScheduled").text(json.Scheduled);
				$("#jobClosed").empty();
				$("#jobClosed").text(json.jobtobe_closed);
				
			    }
			});
	    }
		
	    
	</script>
	
	<script type="text/javascript">
	
	 $("#LSL_JOB_STATUS").change(function()
			 {
				$value=$(this).val();
				$('#Form_data').bootstrapValidator('revalidateField', 'LSL_RE_SCH_REASON');
				$('#Form_data').bootstrapValidator('revalidateField', 'LSL_RE_SCH_DT');
				$('#Form_data').data('bootstrapValidator').updateStatus('LSL_RE_SCH_REASON', 'VALID').validateField('LSL_RE_SCH_REASON');
				$('#Form_data').data('bootstrapValidator').updateStatus('LSL_RE_SCH_DT', 'VALID').validateField('LSL_RE_SCH_DT');
				$reason=$("#LSL_RE_SCH_REASON").val();
				$date=$("#LSL_RE_SCH_DT").val();
				if ($value=="ReScheduled")
				{
				    $("#LSL_RE_SCH_REASON").removeAttr('disabled');
				    if ($reason)
				    {
					$('#Form_data').bootstrapValidator('revalidateField', 'LSL_RE_SCH_REASON');
				    }
				    if ($date)
				    {
					$('#Form_data').bootstrapValidator('revalidateField', 'LSL_RE_SCH_DT');
				    }
				}
			    });
			    
	 function refresh()
	    {
		$("#LSL_JOB_STATUS").change(function()
		{
		    $value=$(this).val();
		    $('#Form_data').bootstrapValidator('revalidateField', 'LSL_RE_SCH_REASON');
		    $('#Form_data').bootstrapValidator('revalidateField', 'LSL_RE_SCH_DT');
		    $('#Form_data').data('bootstrapValidator').updateStatus('LSL_RE_SCH_REASON', 'VALID').validateField('LSL_RE_SCH_REASON');
		    $('#Form_data').data('bootstrapValidator').updateStatus('LSL_RE_SCH_DT', 'VALID').validateField('LSL_RE_SCH_DT');
		    $reason=$("#LSL_RE_SCH_REASON").val();
		    $date=$("#LSL_RE_SCH_DT").val();
		    if ($value=="ReScheduled" || $value=="Scheduled")
		    {
			$("#LSL_RE_SCH_REASON").attr('disabled',false);
			$("[data-id='LSL_RE_SCH_REASON']").removeClass('disabled');
			$("[data-id='LSL_RE_SCH_REASON'] ul li").removeClass('disabled');
			$('.selectpicker').selectpicker('refresh');
			if ($reason)
			{
			    $('#Form_data').bootstrapValidator('revalidateField', 'LSL_RE_SCH_REASON');
			}
			else
			{
			    $('#Form_data').data('bootstrapValidator').updateStatus('LSL_RE_SCH_REASON', 'INVALID').validateField('LSL_RE_SCH_REASON');
			}
			if ($date)
			{
			    $('#Form_data').bootstrapValidator('revalidateField', 'LSL_RE_SCH_DT');
			}
			else
			{
			    $('#Form_data').data('bootstrapValidator').updateStatus('LSL_RE_SCH_REASON', 'INVALID').validateField('LSL_RE_SCH_DT');
			}
		    }
		    else
		    {
			$("#LSL_RE_SCH_REASON").val("");
			$("#LSL_RE_SCH_REASON").attr('disabled',true);
			$('.selectpicker').selectpicker('refresh');
		    }
		});
		
		$('#Form_data').bootstrapValidator
		({
		    message: 'This value is not valid',
		    container: 'tooltip',
		    excluded: [':disabled'],
		    feedbackIcons:
		    {
			valid: 'fa fa-check',
			invalid: 'fa fa-times',
			validating: 'fa fa-refresh'
		    },
		    fields:
		    {
			trigger:'blur',
			LSL_JOB_STATUS:
			{
			    validators:
			    {
				notEmpty:
				{
				    message: 'The job status is required and can\'t be empty'
				},
			    }
			},
			
			LSL_RE_SCH_REASON:
			{
			    validators:
			    {
				callback:
				{
				    message: 'Reschedule reason is required',
				    callback: function(value, validator)
				    {
					var LSL_JOB_STATUS=$("#LSL_JOB_STATUS").val();
				        if (LSL_JOB_STATUS=="ReScheduled")
					{
					    if (value)
					    {
						return true;
					    }
					    else
					    {
						return false;
					    }
					}
					else
					{
					    return true;
					}
				    }
				}							
			    }
			},
			
			LSL_RE_SCH_DT:
			{
			    validators:
			    {
				callback:
				{
				    message: 'Reschedule date is required',
				    callback: function(value, validator)
				    {
					var LSL_JOB_STATUS=$("#LSL_JOB_STATUS").val();
					if (LSL_JOB_STATUS=="ReScheduled")
					{
					    if (value=="")
					    {
						return false;
					    }
					    else
					    {
						return true;
					    }
					}
					else
					{
					   return true;
					}
				    }
				}
			    }
			}
		    }
		});
	    } 
	</script>
   </body>
</html>